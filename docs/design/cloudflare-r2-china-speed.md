# Cloudflare R2 国内访问速度评测 (自定义域名)

绑自定义域名后，Cloudflare R2 在国内的访问体验可以总结为：**“稳但不快，够用且免费”**。

## 1. 省流结论
*   **连通性**: **99% 可连**。解决了 GitHub Release 经常出现的“连接重置”或“无法访问”问题。
*   **速度**: **一般**。通常在 **500KB/s - 5MB/s** 之间波动，视运营商而定。
    *   *对比*: 比 GitHub 直连快且稳，但远不如阿里云 OSS (满速)。
*   **延迟**: **较高** (150ms - 300ms)。因为 Cloudflare 免费版在国内没有节点，流量通常会绕道 **美西 (圣何塞/洛杉矶)** 或 **新加坡/日本**。

## 2. 三大运营商实测表现 (典型情况)
*注: 情况随 Cloudflare 路由调整动态变化*

| 运营商 | 体验 | 路由路径 | 说明 |
| :--- | :--- | :--- | :--- |
| **中国移动** | ⭐⭐⭐⭐ | 香港/新加坡 | 移动宽带通常体验最好，运气好能直连 Cloudflare 香港节点。 |
| **中国联通** | ⭐⭐⭐ | 日本/美国 | 中规中矩，延迟适中，丢包率较低。 |
| **中国电信** | ⭐⭐ | 美国 (美西) | 电信出国带宽拥堵，晚高峰 (20:00-23:00) 可能会降速明显。 |

## 3. 为什么是这个速度？
Cloudflare R2 默认走 Cloudflare 的 CDN 网络。
*   **免费版 (Free Plan)**: 使用 **Anycast (泛播)** 技术。虽然 Cloudflare 在中国大陆有节点（与京东云合作），但**仅限企业版 (Enterprise)** 使用。
*   **回源逻辑**: 国内用户的请求会被路由到最近的“免费节点”，通常是 **美西** 或 **亚太(非大陆)**。
*   **R2 存储桶位置**: R2 会自动选择存储位置（通常在亚太），但 CDN 边缘节点的接入点决定了用户的连接速度。

## 4. 优化建议 (提速秘籍)

### A. 开启缓存 (Cache Everything) —— **最重要**
R2 本身是对象存储，不具备极速分发能力。必须配合 CDN 缓存。
1.  进入 Cloudflare 后台 -> **Caching** -> **Cache Rules**。
2.  新建规则:
    *   **If**: `Hostname` eq `download.your-domain.com`
    *   **Then**: `Cache Level` = **Cache Everything** (强制缓存所有内容)。
    *   **Edge Cache TTL**: 设置为 **1 month** (安装包不会变，存久点)。
*   **效果**: 只有第一个用户回源（慢），后续用户直接从 CDN 边缘节点拉取（较快），且**完全免除 R2 操作费**。

### B. 优选 IP (高阶玩法)
如果你使用 `CNAME` 接入，DNS 解析完全由 Cloudflare 控制。
*   **进阶**: 可以通过 **SaaS 回源** (Cloudflare for SaaS) 方式，让国内 DNS 解析指向一些对国内线路优化的 Cloudflare IP 段（俗称“优选 IP”）。
*   *风险*: 配置复杂，且优选 IP 经常变动，维护成本高，不建议生产环境折腾。

## 5. 总结
如果你只是为了**分发软件安装包**（用户能下载就行，多等几分钟没关系），**R2 + 自定义域名是目前性价比无敌的方案**。

如果你的用户对速度极度敏感（如在线视频、游戏资源包），请付费使用阿里云 OSS + CDN。
