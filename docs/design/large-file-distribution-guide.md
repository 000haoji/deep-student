# 大于 100MB 安装包的分发方案指南

针对 Gitee 无法托管 >100MB 附件的痛点，以下是三种经过验证的替代方案，按推荐程度排序。

## 方案 A: Cloudflare R2 + 自定义域名 (最佳自动化方案)

这是目前**唯一**能同时满足“免费”、“自动化上传”和“国内可用”的方案。

*   **核心优势**:
    *   **流量免费**: 零出口流量费 (Zero Egress Fee)。
    *   **存储免费**: 10 GB 免费额度 (通常够存几十个历史版本的安装包)。
    *   **自动化**: 完美支持 S3 API，可用 GitHub Actions 自动上传。
*   **关键配置 (解决国内访问)**:
    *   Cloudflare 默认提供的 `*.r2.dev` 域名在国内被阻断。
    *   **必须绑定自定义域名**: 在 R2 Bucket 设置中，绑定一个你自己的二级域名 (如 `download.your-app.com`)，并开启 Cloudflare CDN (橙色云朵)。
    *   *注*: 该域名最好托管在 Cloudflare DNS 上。
*   **GitHub Action 示例**:
    ```yaml
    - name: Upload to R2
      uses: ryand56/r2-upload-action@latest
      with:
        r2-account-id: ${{ secrets.R2_ACCOUNT_ID }}
        r2-access-key-id: ${{ secrets.R2_ACCESS_KEY_ID }}
        r2-secret-access-key: ${{ secrets.R2_SECRET_ACCESS_KEY }}
        r2-bucket: "my-releases"
        source-dir: "./dist"
        destination-dir: "v${{ github.ref_name }}"
    ```

## 方案 B: 123 云盘 (最佳手动方案)

如果你不介意每次发版手动上传一次，这是国内体验最好的网盘。

*   **核心优势**:
    *   **不限速**: 国内下载速度极快。
    *   **超大文件**: 支持 100GB 单文件。
    *   **免登录下载**: 配置好分享链接后，用户无需登录即可下载。
*   **劣势**:
    *   **难以自动化**: 官方 API 门槛高，缺乏现成的 CI 工具。
    *   **流量限制**: 2024年新规后，免费用户作为分享者，单日非登录下载流量有一定限制（约 1GB/天），超出后用户可能需登录。
*   **操作流程**:
    1. 编译完成后，手动上传安装包到 123 云盘。
    2. 生成分享链接（有效期设为永久）。
    3. 将链接贴到 GitHub Release 的 Description 中。

## 方案 C: 阿里云 OSS / 腾讯云 COS (企业级方案)

如果项目有微量预算，这是最稳妥的选择。

*   **成本估算**:
    *   **存储费**: 极低 (几分钱/GB/月)。
    *   **流量费**: 约 0.5元 - 0.7元 / GB (按量付费)。
    *   *例*: 100MB 安装包，每月被下载 100 次 -> 流量 10GB -> 费用约 5-7 元/月。
*   **优势**: 速度天花板，极其稳定，支持 GitHub Action 自动上传。
*   **注意**: 需绑定已备案域名以避免被浏览器拦截或限速。

## 方案 D: 分卷压缩 (利用 Gitee 的折中方案)

如果你一定要用 Gitee 且不想用其他平台。

*   **操作**:
    *   使用 7-Zip 或命令将安装包分卷压缩为多个 <100MB 的文件 (如 `app.7z.001`, `app.7z.002`)。
    *   上传到 Gitee Release。
*   **缺点**:
    *   用户体验极差，需下载所有分卷并手动解压。
    *   Gitee 仓库总容量 (1GB) 也会很快耗尽。
*   **结论**: **不推荐**。

---

## 总结推荐

1.  **有域名 + 要自动化** -> **Cloudflare R2** (配置自定义域名)。
2.  **无域名 / 手动方便** -> **123 云盘**。
3.  **有预算 / 追求极致** -> **阿里云 OSS**。
