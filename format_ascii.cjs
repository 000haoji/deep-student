function getDisplayWidth(str) {
    let width = 0;
    // ä½¿ç”¨ Array.from å¤„ç†ä»£ç†å¯¹ï¼ˆå¦‚ emojiï¼‰
    for (let char of Array.from(str)) {
        if (char === 'ğŸ”’') {
            width += 2;
        } else if (char.match(/[\u4e00-\u9fa5\u3000-\u303f\uff00-\uffef]/)) {
            // ä¸­æ–‡ã€å…¨è§’æ ‡ç‚¹ç¬¦å·
            width += 2;
        } else {
            width += 1; // è‹±æ–‡å­—æ¯ã€æ•°å­—ã€åŠè§’ç¬¦å·ã€åˆ¶è¡¨ç¬¦ã€ç®­å¤´ç­‰
        }
    }
    return width;
}

const lines = [
    "â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”",
    "â”‚                        DeepStudent                          â”‚",
    "â”‚                                                             â”‚",
    "â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚",
    "â”‚  â”‚Chat V2 â”‚  â”‚ Learning â”‚  â”‚ Essay  â”‚  â”‚Settingsâ”‚   React   â”‚",
    "â”‚  â”‚ (å¯¹è¯) â”‚  â”‚   Hub    â”‚  â”‚ (ä½œæ–‡) â”‚  â”‚ (é…ç½®) â”‚           â”‚",
    "â”‚  â””â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚",
    "â”‚      â”‚                                                      â”‚",
    "â”‚  â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚",
    "â”‚  â”‚               æŠ€èƒ½ç³»ç»Ÿ (Skills Engine)               â”‚   â”‚",
    "â”‚  â”‚  é»˜è®¤: æ·±åº¦å­¦è€…  â”‚  åˆ¶å¡ Â· è°ƒç ” Â· å¯¼å¸ˆ Â· æ–‡çŒ®ç»¼è¿°    â”‚   â”‚",
    "â”‚  â”‚  å·¥å…·: è®ºæ–‡ Â· å¯¼å›¾ Â· é¢˜åº“ Â· è®°å¿† Â· æ£€ç´¢ Â· ...        â”‚   â”‚",
    "â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚",
    "â”‚ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€Tauri IPC â”€â”¼â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€ â”€        â”‚",
    "â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚",
    "â”‚  â”‚ LLM Mgr  â”‚  â”‚   Chat Pipeline   â”‚  â”‚  MCP Runtime   â”‚   â”‚",
    "â”‚  â”‚ (9ä¾›åº”å•†) â”‚â—„â”€â”¤   + å·¥å…·æ‰§è¡Œå™¨    â”œâ”€â–ºâ”‚  (å¤–éƒ¨å·¥å…·)    â”‚   â”‚",
    "â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
    "â”‚                          â”‚  å¼•ç”¨ / RAG æ£€ç´¢                 â”‚",
    "â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚",
    "â”‚  â”‚         VFS Â· è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ (SSOT)                  â”‚     â”‚",
    "â”‚  â”‚   ç¬”è®° Â· æ•™æ Â· é¢˜åº“ Â· å¯¼å›¾ Â· ç¿»è¯‘ Â· ä½œæ–‡ Â· è®°å¿†   â”‚     â”‚",
    "â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚",
    "â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚",
    "â”‚  â”‚    å‘é‡åŒ–æµæ°´çº¿: OCR â†’ åˆ†å— â†’ Embedding â†’ ç´¢å¼•     â”‚     â”‚",
    "â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚",
    "â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚",
    "â”‚  â”‚  SQLite  â”‚  â”‚    LanceDB    â”‚  â”‚  Blob Files  â”‚          â”‚
    "â”‚  â”‚ (å…ƒæ•°æ®) â”‚  â”‚  (å‘é‡æ£€ç´¢)   â”‚  â”‚  (åŸå§‹æ–‡ä»¶)  â”‚          â”‚",
    "â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚",
    "â”‚                                                             â”‚",
    "â”‚                   ğŸ”’ å…¨éƒ¨æ•°æ®æœ¬åœ°å­˜å‚¨                       â”‚",
    "â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜",
    "       â”‚                  â”‚                   â”‚                ",
    "  LLM APIs (9å®¶)  Web Search (7å¼•æ“)   MCP Servers             "
];

// æŠŠæ‰€æœ‰çš„è¡Œéƒ½å¤„ç†ä¸€ä¸‹ï¼Œå»æ‰é¦–å°¾çš„ç©ºç™½ï¼ˆå¯¹äºæœ‰æ¡†çš„è¡Œï¼‰ï¼Œç„¶åç»Ÿä¸€å®½åº¦
const targetInnerWidth = 61; // 61 ä¸ª '-' -> "â”Œ" + 61ä¸ªæ¨ªçº¿ + "â”"
// æ‰€ä»¥å†…éƒ¨æ˜¯ 61ã€‚ç¬¬ä¸€è¡Œå’Œæœ€åä¸€è¡Œä¹Ÿæ˜¯ 63ã€‚

const output = lines.map((line, index) => {
    if (index === 0 || index === lines.length - 3) { // è¾¹æ¡†
        return line.trim();
    }
    
    if (line.startsWith('â”‚') && line.endsWith('â”‚')) {
        let innerText = line.substring(1, line.length - 1);
        // å»é™¤ innerText æœ«å°¾çš„ç©ºæ ¼
        innerText = innerText.replace(/\s+$/, '');
        
        let width = getDisplayWidth(innerText);
        if (width < targetInnerWidth) {
            return 'â”‚' + innerText + ' '.repeat(targetInnerWidth - width) + 'â”‚';
        } else if (width > targetInnerWidth) {
            // è¶…å‡ºäº†ï¼Œéœ€è¦æŠŠå†…éƒ¨çš„å…ƒç´ è°ƒæ•´ä¸€ä¸‹ï¼Œæˆ‘ä»¬æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸æ¥æ‰‹å·¥è°ƒæ•´
            console.log(`Line ${index} exceeded width ${targetInnerWidth}: ${width}`);
            return 'â”‚' + innerText + 'â”‚';
        } else {
            return line;
        }
    } else if (line.startsWith('â”‚')) {
        // å¦‚æœåŸæœ¬å³è¾¹æ¡†è„±è½äº†
        let innerText = line.substring(1).replace(/â”‚\s*$/, '');
        innerText = innerText.replace(/\s+$/, '');
        let width = getDisplayWidth(innerText);
        if (width < targetInnerWidth) {
            return 'â”‚' + innerText + ' '.repeat(targetInnerWidth - width) + 'â”‚';
        } else {
            console.log(`Line ${index} exceeded width ${targetInnerWidth}: ${width}`);
            return 'â”‚' + innerText + 'â”‚';
        }
    }
    return line;
});

console.log(output.join('\n'));
