-- ===========================================
-- AI Mistake Manager - å†…ç½®Ankiå¡ç‰‡æ¨¡æ¿å¯¼å…¥è„šæœ¬
-- Version: 2.0.0
-- Updated: 2025-07-23
-- Description: åŒ…å«6ä¸ªä¼˜åŒ–åçš„å†…ç½®æ¨¡æ¿ï¼ˆå·²åˆ é™¤ä½¿ç”¨å¤æ‚å­—æ®µç±»å‹çš„æ¨¡æ¿ï¼‰
-- ===========================================

PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;

-- åˆ›å»ºæ¨¡æ¿è¡¨ç»“æ„ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
CREATE TABLE IF NOT EXISTS custom_anki_templates (
    id TEXT PRIMARY KEY,
    name TEXT NOT NULL UNIQUE,
    description TEXT,
    author TEXT,
    version TEXT NOT NULL DEFAULT '1.0.0',
    preview_front TEXT NOT NULL,
    preview_back TEXT NOT NULL,
    note_type TEXT NOT NULL DEFAULT 'Basic',
    fields_json TEXT NOT NULL DEFAULT '[]',
    generation_prompt TEXT NOT NULL,
    front_template TEXT NOT NULL,
    back_template TEXT NOT NULL,
    css_style TEXT NOT NULL,
    field_extraction_rules_json TEXT NOT NULL DEFAULT '{}',
    created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ', 'now')),
    updated_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ', 'now')),
    is_active INTEGER NOT NULL DEFAULT 1,
    is_built_in INTEGER NOT NULL DEFAULT 0
);

-- åˆ é™¤å·²åºŸå¼ƒçš„æ¨¡æ¿ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
DELETE FROM custom_anki_templates WHERE id IN (
    'concept-comparison-card',
    'math-formula-card', 
    'historical-events-card',
    'medical-terms-card',
    'multi-step-tutorial',
    'code-debugging',
    'knowledge-graph',
    'data-analysis-comparison'
);

-- ===========================================
-- å¯¼å…¥å†…ç½®æ¨¡æ¿
-- ===========================================

-- 1. æç®€å¡ç‰‡
INSERT INTO custom_anki_templates VALUES('minimal-card','æç®€å¡ç‰‡','ç®€æ´ä¼˜é›…çš„æç®€è®¾è®¡ï¼Œä¸“æ³¨å†…å®¹å±•ç¤º','ç³»ç»Ÿå†…ç½®','1.0.0','ä»€ä¹ˆæ˜¯åŠ¨é‡å®ˆæ’å®šå¾‹ï¼Ÿ','åœ¨æ²¡æœ‰å¤–åŠ›ä½œç”¨çš„ç³»ç»Ÿä¸­ï¼Œç³»ç»Ÿçš„æ€»åŠ¨é‡ä¿æŒä¸å˜','Basic','["Front","Back","Notes","Tags"]',replace('ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ANKIå¡ç‰‡åˆ¶ä½œä¸“å®¶ã€‚è¯·æ ¹æ®æä¾›çš„å­¦ä¹ ææ–™ç”Ÿæˆæç®€é£æ ¼çš„è®°å¿†å¡ç‰‡ã€‚\n\nè¯·æŒ‰ç…§ä»¥ä¸‹æ ¼å¼ç”Ÿæˆå¡ç‰‡ï¼Œæ¯å¼ å¡ç‰‡ç”¨JSONæ ¼å¼è¡¨ç¤ºï¼š\n\n{\n  "Front": "ç®€æ´æ˜äº†çš„é—®é¢˜æˆ–æ¦‚å¿µåç§°",\n  "Back": "å‡†ç¡®ã€æ¸…æ™°çš„ç­”æ¡ˆæˆ–è§£é‡Š",\n  "Notes": "å¯é€‰çš„è¡¥å……è¯´æ˜æˆ–æ³¨é‡Šï¼Œå¸®åŠ©ç†è§£è®°å¿†",\n  "Tags": ["ç›¸å…³æ ‡ç­¾"]\n}\n\nè¦æ±‚ï¼š\n1. é—®é¢˜ç®€æ´ç›´æ¥ï¼Œä¾¿äºå¿«é€Ÿç†è§£\n2. ç­”æ¡ˆå‡†ç¡®å®Œæ•´ï¼Œè¯­è¨€ç®€ç»ƒ\n3. å¦‚æœæœ‰é‡è¦çš„è¡¥å……ä¿¡æ¯ï¼Œå¯ä»¥æ·»åŠ åˆ°Noteså­—æ®µ\n4. æ¯å¼ å¡ç‰‡ä¸“æ³¨ä¸€ä¸ªçŸ¥è¯†ç‚¹\n5. é€‚åˆåå¤è®°å¿†å’Œå¤ä¹ \n\nè¯·æ ¹æ®å†…å®¹çš„å¤æ‚åº¦å’ŒçŸ¥è¯†ç‚¹æ•°é‡ï¼Œç”Ÿæˆé€‚é‡çš„é«˜è´¨é‡è®°å¿†å¡ç‰‡ã€‚å¦‚æœå†…å®¹åŒ…å«å¤šä¸ªé‡è¦æ¦‚å¿µï¼Œåº”è¯¥ä¸ºæ¯ä¸ªæ¦‚å¿µç”Ÿæˆå¯¹åº”çš„å¡ç‰‡ã€‚','\n',char(10)),replace('<div class="card minimal-card">\n  <div class="question">{{Front}}</div>\n  <div class="hint">ç‚¹å‡»æ˜¾ç¤ºç­”æ¡ˆ</div>\n</div>','\n',char(10)),replace('<div class="card minimal-card">\n  <div class="question">{{Front}}</div>\n  <div class="hint">ç‚¹å‡»æ˜¾ç¤ºç­”æ¡ˆ</div>\n  \n  <div class="answer">{{Back}}</div>\n  \n  {{#Notes}}\n  <div class="notes">\n    <div class="notes-label">æ³¨é‡Šï¼š</div>\n    <div>{{Notes}}</div>\n  </div>\n  {{/Notes}}\n</div>','\n',char(10)),replace('.minimal-card {\n  font-family: ''Segoe UI'', system-ui, sans-serif;\n  width: 100%;\n  max-width: 100%;\n  margin: 0;\n  padding: 20px;\n  border-radius: 16px;\n  background: white;\n  box-shadow: 0 5px 25px rgba(0,0,0,0.08);\n  text-align: center;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n\n.question {\n  font-size: 20px;\n  font-weight: 600;\n  color: #2c3e50;\n  line-height: 1.4;\n  margin-bottom: 15px;\n  word-wrap: break-word;\n}\n\n.answer {\n  font-size: 16px;\n  color: #27ae60;\n  padding: 15px;\n  background: #f9fbfa;\n  border-radius: 12px;\n  margin: 20px 0;\n  border-left: 4px solid #2ecc71;\n  display: block;\n  word-wrap: break-word;\n}\n\n.hint {\n  font-size: 12px;\n  color: #95a5a6;\n  font-style: italic;\n  margin-bottom: 10px;\n}\n\n.notes {\n  text-align: left;\n  margin-top: 15px;\n  padding: 12px;\n  background: #f8f9fa;\n  border-radius: 10px;\n  font-size: 14px;\n  color: #7f8c8d;\n  word-wrap: break-word;\n}\n\n.notes-label {\n  font-weight: 600;\n  color: #3498db;\n  margin-bottom: 5px;\n}\n\n.card:hover {\n  box-shadow: 0 8px 30px rgba(0,0,0,0.12);\n}','\n',char(10)),'{"Front":{"field_type":"Text","is_required":true,"default_value":"","validation_pattern":null,"description":"Front å­—æ®µ"},"Back":{"field_type":"Text","is_required":true,"default_value":"","validation_pattern":null,"description":"Back å­—æ®µ"},"Notes":{"field_type":"Text","is_required":false,"default_value":"","validation_pattern":null,"description":"Notes å­—æ®µ"},"Tags":{"field_type":"Array","is_required":false,"default_value":"[]","validation_pattern":null,"description":"Tags å­—æ®µ"}}','2025-07-23 02:34:31','2025-07-23 02:34:31',1,1);

-- 2. ç¼–ç¨‹ä»£ç å¡ç‰‡
INSERT INTO custom_anki_templates VALUES('code-card','ç¼–ç¨‹ä»£ç å¡ç‰‡','ç¨‹åºå‘˜ä¸“ç”¨ï¼Œæ·±è‰²ä¸»é¢˜ä»£ç é«˜äº®æ˜¾ç¤º','ç³»ç»Ÿå†…ç½®','1.0.0','å¦‚ä½•åœ¨Pythonä¸­å®šä¹‰å‡½æ•°ï¼Ÿ',replace('def function_name(parameters):\n    # å‡½æ•°ä½“\n    return result','\n',char(10)),'Basic','["Front","Code","Back","Language","Tags"]',replace('ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ç¼–ç¨‹å­¦ä¹ ANKIå¡ç‰‡åˆ¶ä½œä¸“å®¶ã€‚è¯·æ ¹æ®æä¾›çš„ç¼–ç¨‹ç›¸å…³ææ–™ç”Ÿæˆä»£ç é£æ ¼çš„è®°å¿†å¡ç‰‡ã€‚\nè¯·æŒ‰ç…§ä»¥ä¸‹æ ¼å¼ç”Ÿæˆå¡ç‰‡ï¼Œæ¯å¼ å¡ç‰‡ç”¨JSONæ ¼å¼è¡¨ç¤ºï¼š\n{\n  "Front": "ç¼–ç¨‹ç›¸å…³çš„é—®é¢˜æˆ–æ¦‚å¿µ",\n  "Code": "ç›¸å…³çš„ä»£ç ç¤ºä¾‹ï¼ˆå¦‚æœæœ‰ï¼‰",\n  "Back": "ç­”æ¡ˆæˆ–ä»£ç çš„è¯¦ç»†è§£é‡Š",\n  "Language": "ç¼–ç¨‹è¯­è¨€ï¼ˆå¦‚Pythonã€JavaScriptç­‰ï¼‰",\n  "Tags": ["ç›¸å…³æ ‡ç­¾"]\n}\nè¦æ±‚ï¼š\n1. é—®é¢˜åº”è¯¥é’ˆå¯¹å…·ä½“çš„ç¼–ç¨‹æ¦‚å¿µæˆ–æŠ€å·§\n2. ä»£ç ç¤ºä¾‹è¦ç®€æ´ä¸”èƒ½è¯´æ˜é—®é¢˜\n3. è§£é‡Šè¦æ¸…æ™°ï¼ŒåŒ…å«å…³é”®è¦ç‚¹\n4. é€‚åˆç¨‹åºå‘˜æ—¥å¸¸å¤ä¹ å’Œè®°å¿†\n5. ä»£ç æ ¼å¼è¦æ­£ç¡®ï¼Œä¾¿äºé˜…è¯»\nè¯·æ ¹æ®å†…å®¹çš„å¤æ‚åº¦ç”Ÿæˆé€‚é‡çš„ç¼–ç¨‹å­¦ä¹ å¡ç‰‡ã€‚ä¼˜å…ˆå…³æ³¨æ ¸å¿ƒæ¦‚å¿µã€å¸¸ç”¨è¯­æ³•å’Œæœ€ä½³å®è·µã€‚','\n',char(10)),replace('<div class="card code-card">\n  <div class="question">{{Front}}</div>\n  {{#Language}}\n  <div class="language-tag">{{Language}}</div>\n  {{/Language}}\n  <div class="hint">ç‚¹å‡»æŸ¥çœ‹ä»£ç å’Œè§£é‡Š</div>\n</div>','\n',char(10)),replace('<div class="card code-card">\n  <div class="question">{{Front}}</div>\n  {{#Language}}\n  <div class="language-tag">{{Language}}</div>\n  {{/Language}}\n  \n  {{#Code}}\n  <div class="code-section">\n    <pre><code>{{Code}}</code></pre>\n  </div>\n  {{/Code}}\n  \n  <div class="explanation">{{Back}}</div>\n</div>','\n',char(10)),replace('.code-card {\n  font-family: ''Fira Code'', ''Consolas'', monospace;\n  width: 100%;\n  max-width: 100%;\n  margin: 0;\n  padding: 20px;\n  background: #2d3748;\n  color: #cbd5e0;\n  border-radius: 8px;\n  box-shadow: 0 10px 25px rgba(0,0,0,0.3);\n  box-sizing: border-box;\n  overflow: hidden;\n}\n.question {\n  font-size: 16px;\n  line-height: 1.5;\n  color: #81e6d9;\n  margin-bottom: 15px;\n  word-wrap: break-word;\n}\n.language-tag {\n  display: inline-block;\n  background: #4a5568;\n  color: #a0aec0;\n  padding: 4px 12px;\n  border-radius: 4px;\n  font-size: 12px;\n  margin-bottom: 10px;\n}\n.hint {\n  text-align: center;\n  color: #718096;\n  font-style: italic;\n  margin-bottom: 15px;\n  font-size: 12px;\n}\n.code-section {\n  margin: 15px 0;\n}\npre {\n  background: #1a202c;\n  padding: 15px;\n  border-radius: 6px;\n  overflow-x: auto;\n  border-left: 3px solid #63b3ed;\n  font-size: 12px;\n  line-height: 1.4;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n}\ncode {\n  color: #feb2b2;\n  word-wrap: break-word;\n}\n.explanation {\n  margin-top: 15px;\n  padding: 12px;\n  background: #4a5568;\n  border-radius: 6px;\n  font-size: 14px;\n  line-height: 1.6;\n  word-wrap: break-word;\n}','\n',char(10)),'{"Front":{"field_type":"Text","is_required":true,"default_value":"","validation_pattern":null,"description":"Front å­—æ®µ"},"Code":{"field_type":"Text","is_required":false,"default_value":"","validation_pattern":null,"description":"Code å­—æ®µ"},"Back":{"field_type":"Text","is_required":true,"default_value":"","validation_pattern":null,"description":"Back å­—æ®µ"},"Language":{"field_type":"Text","is_required":false,"default_value":"","validation_pattern":null,"description":"Language å­—æ®µ"},"Tags":{"field_type":"Array","is_required":false,"default_value":"[]","validation_pattern":null,"description":"Tags å­—æ®µ"}}','2025-07-23 02:34:31','2025-07-23 02:34:31',1,1);

-- 3. å¡«ç©ºé¢˜å¡ç‰‡
INSERT INTO custom_anki_templates VALUES('cloze-card','å¡«ç©ºé¢˜å¡ç‰‡','ä¸“ä¸ºå¡«ç©ºè®°å¿†è®¾è®¡ï¼Œæ”¯æŒå¤šä¸ªç©ºæ ¼å’Œæç¤ºä¿¡æ¯','ç³»ç»Ÿå†…ç½®','1.0.0','ç‰›é¡¿ç¬¬äºŒå®šå¾‹çš„å…¬å¼æ˜¯ F = [...]ï¼Œå…¶ä¸­mè¡¨ç¤º[...]ï¼Œaè¡¨ç¤º[...]','ç‰›é¡¿ç¬¬äºŒå®šå¾‹çš„å…¬å¼æ˜¯ F = maï¼Œå…¶ä¸­mè¡¨ç¤ºè´¨é‡ï¼Œaè¡¨ç¤ºåŠ é€Ÿåº¦','Cloze','["Text","Hint","Source","Tags"]',replace('ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ANKIå¡«ç©ºé¢˜å¡ç‰‡åˆ¶ä½œä¸“å®¶ã€‚è¯·æ ¹æ®æä¾›çš„å­¦ä¹ ææ–™ç”Ÿæˆå¡«ç©ºé¢˜é£æ ¼çš„è®°å¿†å¡ç‰‡ã€‚\n\né‡è¦è§„åˆ™ï¼šä¸ºäº†åœ¨ã€ä¸€å¼ å¡ç‰‡ã€‘ä¸Šå®ç°ã€å¤šä¸ªæŒ–ç©ºã€‘ï¼Œè¯·åŠ¡å¿…å°†æ‰€æœ‰æŒ–ç©ºæ ‡è®°çš„æ•°å­—éƒ½è®¾ç½®ä¸ºã€1ã€‘ã€‚ä¾‹å¦‚ï¼š{{c1::ç­”æ¡ˆä¸€}}...{{c1::ç­”æ¡ˆäºŒ}}ã€‚\n\nè¯·æŒ‰ç…§ä»¥ä¸‹æ ¼å¼ç”Ÿæˆå¡ç‰‡ï¼Œæ¯å¼ å¡ç‰‡ç”¨JSONæ ¼å¼è¡¨ç¤ºï¼š\n\n{\n  "Text": "åŒ…å«å¡«ç©ºæ ‡è®°çš„å®Œæ•´æ–‡æœ¬ã€‚æ‰€æœ‰æŒ–ç©ºéƒ½å¿…é¡»ä½¿ç”¨ {{c1::ç­”æ¡ˆ}} çš„æ ¼å¼ã€‚",\n  "Hint": "å¡«ç©ºæç¤ºä¿¡æ¯ï¼ˆå¯é€‰ï¼‰",\n  "Source": "çŸ¥è¯†æ¥æºæˆ–å‚è€ƒèµ„æ–™ï¼ˆå¯é€‰ï¼‰",\n  "Tags": ["ç›¸å…³æ ‡ç­¾"]\n}\n\nå¡«ç©ºæ ‡è®°è§„åˆ™ï¼š\n1. ã€æœ€é‡è¦ã€‘å¯¹äºä¸€å¼ å¡ç‰‡ä¸Šçš„æ‰€æœ‰æŒ–ç©ºï¼Œã€å¿…é¡»ã€‘å…¨éƒ¨ä½¿ç”¨ {{c1::...}} æ ¼å¼ï¼Œä¸è¦ä½¿ç”¨c2, c3...ã€‚è¿™ä¼šç¡®ä¿æ‰€æœ‰æŒ–ç©ºéƒ½åœ¨åŒä¸€å¼ å¡ç‰‡ä¸Šã€‚\n2. å¯ä»¥æ·»åŠ æç¤ºï¼š{{c1::ç­”æ¡ˆ::æç¤º}}\n3. ç¡®ä¿å¡«ç©ºå†…å®¹æ˜¯å…³é”®çŸ¥è¯†ç‚¹\n\nè¦æ±‚ï¼š\n1. é€‰æ‹©æ–‡æœ¬ä¸­çš„å…³é”®æ¦‚å¿µã€å…¬å¼ã€å®šä¹‰ä½œä¸ºå¡«ç©ºå†…å®¹\n2. å¡«ç©ºåº”è¯¥æœ‰ä¸€å®šéš¾åº¦ï¼Œèƒ½å¤Ÿæµ‹è¯•ç†è§£ç¨‹åº¦\n3. æ–‡æœ¬è¦å®Œæ•´è¿è´¯ï¼Œå»æ‰å¡«ç©ºåä»ç„¶è¯­æ³•æ­£ç¡®\n4. é€‚åˆä¸»åŠ¨å›å¿†è®­ç»ƒ\n\nè¯·æ ¹æ®å†…å®¹çš„å¤æ‚åº¦å’ŒçŸ¥è¯†ç‚¹æ•°é‡ï¼Œç”Ÿæˆé€‚é‡çš„é«˜è´¨é‡å¡«ç©ºé¢˜è®°å¿†å¡ç‰‡ã€‚å¦‚æœå†…å®¹åŒ…å«å¤šä¸ªé‡è¦æ¦‚å¿µï¼Œåº”è¯¥ä¸ºæ¯ä¸ªæ¦‚å¿µç”Ÿæˆå¯¹åº”çš„å¡ç‰‡ã€‚','\n',char(10)),replace('<div class="card cloze-card">\n  <div class="cloze-text">{{cloze:Text}}</div>\n  \n  {{#Hint}}\n  <div class="hint-section">\n    <div class="hint-label">ğŸ’¡ æç¤ºï¼š</div>\n    <div class="hint-content">{{Hint}}</div>\n  </div>\n  {{/Hint}}\n</div>','\n',char(10)),replace('<div class="card cloze-card">\n  <div class="cloze-text">{{cloze:Text}}</div>\n  \n  {{#Hint}}\n  <div class="hint-section">\n    <div class="hint-label">ğŸ’¡ æç¤ºï¼š</div>\n    <div class="hint-content">{{Hint}}</div>\n  </div>\n  {{/Hint}}\n  \n  <div class="complete-text">\n    <div class="complete-label">å®Œæ•´å†…å®¹ï¼š</div>\n    <div class="complete-content">{{text:Text}}</div>\n  </div>\n  \n  {{#Source}}\n  <div class="source-section">\n    <span class="source-label">ğŸ“š æ¥æºï¼š</span>\n    <span class="source-content">{{Source}}</span>\n  </div>\n  {{/Source}}\n</div>','\n',char(10)),replace('.cloze-card {\n  font-family: ''PingFang SC'', ''Microsoft YaHei'', sans-serif;\n  width: 100%;\n  max-width: 100%;\n  margin: 0;\n  padding: 24px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border-radius: 12px;\n  box-shadow: 0 8px 32px rgba(102, 126, 234, 0.3);\n  box-sizing: border-box;\n  overflow: hidden;\n  position: relative;\n}\n.cloze-card::before {\n  content: '''';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(255, 255, 255, 0.1);\n  backdrop-filter: blur(10px);\n  border-radius: 12px;\n  z-index: -1;\n}\n.cloze-text {\n  font-size: 18px;\n  line-height: 1.6;\n  margin-bottom: 20px;\n  text-align: justify;\n  word-wrap: break-word;\n}\n.cloze {\n  background: #FFD700;\n  color: #2c3e50;\n  padding: 2px 8px;\n  border-radius: 6px;\n  font-weight: 600;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n}\n.hint-section {\n  background: rgba(255, 255, 255, 0.2);\n  padding: 12px;\n  border-radius: 8px;\n  margin: 15px 0;\n  border-left: 4px solid #FFD700;\n}\n.hint-label {\n  font-weight: 600;\n  font-size: 14px;\n  margin-bottom: 5px;\n  color: #FFD700;\n}\n.hint-content {\n  font-size: 14px;\n  line-height: 1.4;\n  opacity: 0.9;\n}\n.complete-text {\n  background: rgba(255, 255, 255, 0.15);\n  padding: 15px;\n  border-radius: 8px;\n  margin-top: 20px;\n  border: 1px solid rgba(255, 255, 255, 0.3);\n}\n.complete-label {\n  font-weight: 600;\n  font-size: 14px;\n  margin-bottom: 8px;\n  color: #E8F4FD;\n}\n.complete-content {\n  font-size: 16px;\n  line-height: 1.5;\n  color: #F8F9FA;\n}\n.source-section {\n  margin-top: 15px;\n  padding-top: 10px;\n  border-top: 1px solid rgba(255, 255, 255, 0.3);\n  font-size: 12px;\n  opacity: 0.8;\n}\n.source-label {\n  font-weight: 600;\n}','\n',char(10)),'{"Text":{"field_type":"Text","is_required":true,"default_value":"","validation_pattern":null,"description":"Text å­—æ®µ"},"Hint":{"field_type":"Text","is_required":false,"default_value":"","validation_pattern":null,"description":"Hint å­—æ®µ"},"Source":{"field_type":"Text","is_required":false,"default_value":"","validation_pattern":null,"description":"Source å­—æ®µ"},"Tags":{"field_type":"Array","is_required":false,"default_value":"[]","validation_pattern":null,"description":"Tags å­—æ®µ"}}','2025-07-23 02:34:31','2025-07-23 02:34:31',1,1);

-- 4. é€‰æ‹©é¢˜å¡ç‰‡
INSERT INTO custom_anki_templates VALUES('choice-card','é€‰æ‹©é¢˜å¡ç‰‡','äº¤äº’å¼é€‰æ‹©é¢˜è®¾è®¡ï¼Œæ”¯æŒå¤šé€‰é¡¹å’Œè§£æè¯´æ˜','ç³»ç»Ÿå†…ç½®','1.0.0','ä¸‹åˆ—å“ªä¸ªæ˜¯ç‰›é¡¿ç¬¬ä¸€å®šå¾‹çš„å†…å®¹ï¼Ÿ',replace('A. F=ma\nB. ä½œç”¨åŠ›ä¸åä½œç”¨åŠ›\nC. æƒ¯æ€§å®šå¾‹ âœ“\nD. ä¸‡æœ‰å¼•åŠ›å®šå¾‹','\n',char(10)),'Basic','["Front","Back","optiona","optionb","optionc","optiond","correct","explanation","Tags"]',replace('ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„ANKIé€‰æ‹©é¢˜å¡ç‰‡åˆ¶ä½œä¸“å®¶ã€‚è¯·æ ¹æ®æä¾›çš„å­¦ä¹ ææ–™ç”Ÿæˆé€‰æ‹©é¢˜é£æ ¼çš„è®°å¿†å¡ç‰‡ã€‚\n\nè¯·æŒ‰ç…§ä»¥ä¸‹æ ¼å¼ç”Ÿæˆå¡ç‰‡ï¼Œæ¯å¼ å¡ç‰‡ç”¨JSONæ ¼å¼è¡¨ç¤ºï¼š\n\n{\n  "Front": "é€‰æ‹©é¢˜é¢˜ç›®ï¼ˆæ³¨æ„ï¼šè¿™é‡Œåªå¡«å†™é¢˜ç›®æ–‡æœ¬ï¼Œä¸è¦åŒ…å«é€‰é¡¹ï¼‰",\n  "optiona": "é€‰é¡¹Açš„å†…å®¹ï¼ˆä¸åŒ…å«A.å‰ç¼€ï¼‰",\n  "optionb": "é€‰é¡¹Bçš„å†…å®¹ï¼ˆä¸åŒ…å«B.å‰ç¼€ï¼‰", \n  "optionc": "é€‰é¡¹Cçš„å†…å®¹ï¼ˆä¸åŒ…å«C.å‰ç¼€ï¼‰",\n  "optiond": "é€‰é¡¹Dçš„å†…å®¹ï¼ˆä¸åŒ…å«D.å‰ç¼€ï¼‰",\n  "correct": "A",\n  "explanation": "ç­”æ¡ˆè§£æå’Œè¯¦ç»†è¯´æ˜",\n  "tags": ["ç›¸å…³æ ‡ç­¾"]\n}\n\nâš ï¸ é‡è¦æç¤ºï¼š\n- Frontå­—æ®µåªåŒ…å«é¢˜ç›®é—®é¢˜ï¼Œç»å¯¹ä¸è¦åŒ…å«ä»»ä½•é€‰é¡¹å†…å®¹\n- å„ä¸ªé€‰é¡¹åˆ†åˆ«å¡«å†™åœ¨optionaã€optionbã€optioncã€optiondå­—æ®µä¸­\n- é€‰é¡¹å†…å®¹ä¸éœ€è¦åŒ…å«"A."ã€"B."ç­‰å‰ç¼€ï¼Œæ¨¡æ¿ä¼šè‡ªåŠ¨æ·»åŠ \n\nè¦æ±‚ï¼š\n1. é¢˜ç›®è¦æ¸…æ™°æ˜ç¡®ï¼Œé’ˆå¯¹æ ¸å¿ƒçŸ¥è¯†ç‚¹\n2. å››ä¸ªé€‰é¡¹è¦æœ‰åˆç†çš„å¹²æ‰°æ€§ï¼Œé¿å…è¿‡äºæ˜æ˜¾çš„é”™è¯¯é€‰é¡¹\n3. æ­£ç¡®ç­”æ¡ˆç”¨Aã€Bã€Cã€Dä¸­çš„ä¸€ä¸ªå­—æ¯è¡¨ç¤º\n4. è§£æè¦è¯¦ç»†è¯´æ˜ä¸ºä»€ä¹ˆè¿™ä¸ªé€‰é¡¹æ­£ç¡®ï¼Œå…¶ä»–é€‰é¡¹é”™åœ¨å“ªé‡Œ\n5. é€‰é¡¹é•¿åº¦å°½é‡ç›¸è¿‘ï¼Œé¿å…æ˜æ˜¾çš„é•¿çŸ­å·®å¼‚æš´éœ²ç­”æ¡ˆ\n6. é€‚åˆæ£€éªŒç†è§£ç¨‹åº¦å’Œè¾¨æèƒ½åŠ›\n\nè¯·æ ¹æ®å†…å®¹çš„å¤æ‚åº¦å’ŒçŸ¥è¯†ç‚¹æ•°é‡ï¼Œç”Ÿæˆé€‚é‡çš„é«˜è´¨é‡é€‰æ‹©é¢˜è®°å¿†å¡ç‰‡ã€‚ç‰¹åˆ«æ³¨æ„ï¼šå¦‚æœæä¾›çš„å†…å®¹æœ¬èº«å°±æ˜¯é€‰æ‹©é¢˜æ ¼å¼ï¼Œè¯·ç¡®ä¿ä¸ºæ¯ä¸€é“åŸæœ‰é€‰æ‹©é¢˜éƒ½ç”Ÿæˆå¯¹åº”çš„å¡ç‰‡ã€‚','\n',char(10)),replace('<div class="card choice-card">\n  <div class="question-section">\n    <div class="question-label">ğŸ“ é¢˜ç›®</div>\n    <div class="question-text">{{Front}}</div>\n  </div>\n  \n  <div class="options-section">\n    <div class="option">\n      <span class="option-label">A</span>\n      <span class="option-text">{{optiona}}</span>\n    </div>\n    <div class="option">\n      <span class="option-label">B</span>\n      <span class="option-text">{{optionb}}</span>\n    </div>\n    <div class="option">\n      <span class="option-label">C</span>\n      <span class="option-text">{{optionc}}</span>\n    </div>\n    <div class="option">\n      <span class="option-label">D</span>\n      <span class="option-text">{{optiond}}</span>\n    </div>\n  </div>\n  \n  <div class="instruction">æ€è€ƒç­”æ¡ˆåæŒ‰ç©ºæ ¼é”®æŸ¥çœ‹æ­£ç¡®ç­”æ¡ˆ</div>\n</div>','\n',char(10)),replace('<div class="card choice-card" id="choice-card">\n  <div class="question-section">\n    <div class="question-label">\n      ğŸ“ é¢˜ç›®\n      <span class="question-type" id="question-type"></span>\n    </div>\n    <div class="question-text">{{Front}}</div>\n  </div>\n  \n  <div class="options-section answered">\n    <div class="option" data-option="A">\n      <span class="option-label">A</span>\n      <span class="option-text">{{optiona}}</span>\n      <span class="option-result"></span>\n    </div>\n    <div class="option" data-option="B">\n      <span class="option-label">B</span>\n      <span class="option-text">{{optionb}}</span>\n      <span class="option-result"></span>\n    </div>\n    <div class="option" data-option="C">\n      <span class="option-label">C</span>\n      <span class="option-text">{{optionc}}</span>\n      <span class="option-result"></span>\n    </div>\n    <div class="option" data-option="D">\n      <span class="option-label">D</span>\n      <span class="option-text">{{optiond}}</span>\n      <span class="option-result"></span>\n    </div>\n  </div>\n  \n  <div class="answer-section">\n    <div class="answer-label">\n      âœ… æ­£ç¡®ç­”æ¡ˆï¼š{{correct}}\n      <span class="answer-hint" id="answer-hint"></span>\n    </div>\n  </div>\n  \n  {{#explanation}}\n  <div class="explanation-section">\n    <div class="explanation-label">ğŸ’¡ è§£æ</div>\n    <div class="explanation-text">{{explanation}}</div>\n  </div>\n  {{/explanation}}\n</div>\n\n<script>\n// Anki å…¼å®¹çš„ JavaScript - ä½¿ç”¨åŒ¿åå‡½æ•°åŒ…è£…\n(function() {\n  // è·å–æ­£ç¡®ç­”æ¡ˆ\n  var correctAnswer = "{{correct}}";\n  correctAnswer = correctAnswer.replace(/[\s,ï¼Œã€]/g, ""); // ç§»é™¤ç©ºæ ¼ã€é€—å·ç­‰åˆ†éš”ç¬¦\n  \n  // åˆ¤æ–­é¢˜å‹\n  var isMultiple = correctAnswer.length > 1;\n  var questionTypeEl = document.getElementById("question-type");\n  var answerHintEl = document.getElementById("answer-hint");\n  \n  if (questionTypeEl) {\n    questionTypeEl.textContent = isMultiple ? "å¤šé€‰é¢˜" : "å•é€‰é¢˜";\n  }\n  if (answerHintEl) {\n    answerHintEl.textContent = "ï¼ˆ" + (isMultiple ? "å¤šé€‰é¢˜" : "å•é€‰é¢˜") + "ï¼‰";\n  }\n  \n  // æ ‡è®°æ­£ç¡®ç­”æ¡ˆ\n  var options = document.querySelectorAll(".option");\n  for (var i = 0; i < options.length; i++) {\n    var option = options[i];\n    var optionLetter = option.getAttribute("data-option");\n    \n    if (correctAnswer.indexOf(optionLetter) !== -1) {\n      // æ­£ç¡®ç­”æ¡ˆ\n      option.classList.add("correct");\n      var resultEl = option.querySelector(".option-result");\n      if (resultEl) {\n        resultEl.innerHTML = "âœ“";\n      }\n    }\n  }\n  \n  // ä¸ºå¡ç‰‡æ·»åŠ é¢˜å‹ç±»ï¼Œä¾¿äºCSSæ ·å¼æ§åˆ¶\n  var cardEl = document.getElementById("choice-card");\n  if (cardEl) {\n    cardEl.classList.add(isMultiple ? "multiple-choice" : "single-choice");\n  }\n})();\n</script>','\n',char(10)),replace('.choice-card {\n  font-family: -apple-system, BlinkMacSystemFont, ''Segoe UI'', ''PingFang SC'', sans-serif;\n  width: 100%;\n  max-width: 100%;\n  margin: 0;\n  padding: 20px;\n  background: #f8fafc;\n  border-radius: 12px;\n  box-shadow: 0 4px 20px rgba(0,0,0,0.08);\n  box-sizing: border-box;\n  overflow: hidden;\n  position: relative;\n}\n\n/* é¢˜ç›®åŒºåŸŸ */\n.question-section {\n  margin-bottom: 20px;\n}\n\n.question-label {\n  font-size: 14px;\n  color: #64748b;\n  margin-bottom: 8px;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.question-type {\n  font-size: 12px;\n  color: #3b82f6;\n  background: #e0f2fe;\n  padding: 2px 8px;\n  border-radius: 12px;\n  font-weight: 500;\n}\n\n/* å¤šé€‰é¢˜æ ‡è®° */\n.multiple-choice .question-type {\n  background: #fef3c7;\n  color: #d97706;\n}\n\n.question-text {\n  font-size: 18px;\n  color: #1e293b;\n  line-height: 1.6;\n  font-weight: 500;\n  word-wrap: break-word;\n}\n\n/* é€‰é¡¹åŒºåŸŸ */\n.options-section {\n  margin-bottom: 20px;\n}\n\n.option {\n  display: flex;\n  align-items: center;\n  padding: 12px 16px;\n  margin-bottom: 10px;\n  background: white;\n  border: 2px solid #e2e8f0;\n  border-radius: 8px;\n  transition: all 0.3s ease;\n  position: relative;\n  overflow: hidden;\n  cursor: pointer;\n}\n\n.option::before {\n  content: '''';\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100%;\n  width: 0;\n  background: linear-gradient(90deg, rgba(34, 197, 94, 0.1) 0%, transparent 100%);\n  transition: width 0.3s ease;\n}\n\n.option.correct::before {\n  width: 100%;\n}\n\n.option:hover {\n  border-color: #cbd5e1;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n}\n\n/* é€‰ä¸­çŠ¶æ€ */\n.option.selected {\n  border-color: #3b82f6;\n  background: #eff6ff;\n  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);\n}\n\n.option-label {\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  width: 28px;\n  height: 28px;\n  background: #f1f5f9;\n  color: #475569;\n  border-radius: 50%;\n  font-weight: 600;\n  font-size: 14px;\n  margin-right: 12px;\n  flex-shrink: 0;\n  transition: all 0.3s ease;\n  position: relative;\n  z-index: 1;\n}\n\n.option.selected .option-label {\n  background: #3b82f6;\n  color: white;\n}\n\n.option-text {\n  flex: 1;\n  font-size: 16px;\n  color: #334155;\n  line-height: 1.5;\n  word-wrap: break-word;\n  position: relative;\n  z-index: 1;\n}\n\n.option-result {\n  position: absolute;\n  right: 16px;\n  top: 50%;\n  transform: translateY(-50%);\n  font-size: 20px;\n  font-weight: bold;\n  color: #22c55e;\n  opacity: 0;\n  transition: all 0.3s ease;\n}\n\n/* æ­£ç¡®ç­”æ¡ˆæ ·å¼ */\n.option.correct {\n  background: #f0fdf4;\n  border-color: #22c55e;\n}\n\n.option.correct .option-label {\n  background: #22c55e;\n  color: white;\n  transform: scale(1.1);\n}\n\n.option.correct .option-result {\n  opacity: 1;\n  animation: checkmark 0.4s ease-out;\n}\n\n/* é”™è¯¯é€‰é¡¹çš„è§†è§‰å¼±åŒ– */\n.options-section.answered .option:not(.correct) {\n  opacity: 0.7;\n}\n\n.options-section.answered .option:not(.correct):hover {\n  opacity: 0.85;\n}\n\n/* ç­”æ¡ˆåŒºåŸŸ */\n.answer-section {\n  background: linear-gradient(135deg, #10b981 0%, #059669 100%);\n  color: white;\n  padding: 14px 18px;\n  border-radius: 8px;\n  margin-bottom: 15px;\n  text-align: center;\n  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.2);\n}\n\n.answer-label {\n  font-weight: 600;\n  font-size: 16px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n}\n\n.answer-hint {\n  font-size: 14px;\n  opacity: 0.9;\n  font-weight: normal;\n}\n\n/* å¤šé€‰é¢˜ç­”æ¡ˆåŒºåŸŸæ ·å¼ */\n.multiple-choice .answer-section {\n  background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);\n  box-shadow: 0 4px 12px rgba(245, 158, 11, 0.2);\n}\n\n/* è§£æåŒºåŸŸ */\n.explanation-section {\n  background: #fffbeb;\n  border: 2px solid #f59e0b;\n  border-radius: 8px;\n  padding: 16px;\n  margin-top: 15px;\n  position: relative;\n  overflow: hidden;\n}\n\n.explanation-section::before {\n  content: '''';\n  position: absolute;\n  top: -50%;\n  right: -50%;\n  width: 200%;\n  height: 200%;\n  background: radial-gradient(circle, rgba(251, 191, 36, 0.05) 0%, transparent 70%);\n  pointer-events: none;\n}\n\n.explanation-label {\n  font-weight: 600;\n  color: #d97706;\n  margin-bottom: 8px;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.explanation-text {\n  color: #92400e;\n  line-height: 1.6;\n  font-size: 14px;\n  word-wrap: break-word;\n  position: relative;\n}\n\n/* æç¤ºæ–‡æœ¬ */\n.instruction {\n  text-align: center;\n  color: #64748b;\n  font-style: italic;\n  font-size: 14px;\n  padding: 10px;\n  background: #f1f5f9;\n  border-radius: 6px;\n}\n\n/* é€‰æ‹©ç­”æ¡ˆæ˜¾ç¤ºåŒºåŸŸ */\n.selected-answer {\n  text-align: center;\n  margin-top: 20px;\n  padding: 12px;\n  background: #f0f9ff;\n  border: 1px solid #3b82f6;\n  border-radius: 8px;\n  font-size: 16px;\n  color: #1e40af;\n}\n\n.selected-answer button {\n  background: #3b82f6;\n  color: white;\n  border: none;\n  padding: 8px 16px;\n  border-radius: 6px;\n  font-size: 14px;\n  font-weight: 600;\n  cursor: pointer;\n  transition: background 0.2s ease;\n}\n\n.selected-answer button:hover {\n  background: #2563eb;\n}\n\n/* åŠ¨ç”»æ•ˆæœ */\n@keyframes checkmark {\n  0% {\n    transform: translateY(-50%) scale(0) rotate(-180deg);\n    opacity: 0;\n  }\n  50% {\n    transform: translateY(-50%) scale(1.2) rotate(10deg);\n    opacity: 1;\n  }\n  100% {\n    transform: translateY(-50%) scale(1) rotate(0deg);\n    opacity: 1;\n  }\n}\n\n/* æ¸å˜èƒŒæ™¯æ•ˆæœ */\n.choice-card::after {\n  content: '''';\n  position: absolute;\n  top: -50%;\n  right: -50%;\n  width: 200%;\n  height: 200%;\n  background: radial-gradient(circle, rgba(59, 130, 246, 0.03) 0%, transparent 70%);\n  pointer-events: none;\n  z-index: 0;\n}\n\n/* å“åº”å¼ä¼˜åŒ– */\n@media (max-width: 480px) {\n  .choice-card {\n    padding: 16px;\n  }\n  \n  .question-text {\n    font-size: 16px;\n  }\n  \n  .option {\n    padding: 10px 12px;\n  }\n  \n  .option-text {\n    font-size: 14px;\n  }\n}','\n',char(10)),'{"Front":{"field_type":"Text","is_required":true,"default_value":"","validation_pattern":null,"description":"Front å­—æ®µ"},"Back":{"field_type":"Text","is_required":false,"default_value":"","validation_pattern":null,"description":"Back å­—æ®µ"},"optiona":{"field_type":"Text","is_required":true,"default_value":"","validation_pattern":null,"description":"optiona å­—æ®µ"},"optionb":{"field_type":"Text","is_required":true,"default_value":"","validation_pattern":null,"description":"optionb å­—æ®µ"},"optionc":{"field_type":"Text","is_required":true,"default_value":"","validation_pattern":null,"description":"optionc å­—æ®µ"},"optiond":{"field_type":"Text","is_required":true,"default_value":"","validation_pattern":null,"description":"optiond å­—æ®µ"},"correct":{"field_type":"Text","is_required":true,"default_value":"","validation_pattern":null,"description":"correct å­—æ®µ"},"explanation":{"field_type":"Text","is_required":false,"default_value":"","validation_pattern":null,"description":"explanation å­—æ®µ"},"Tags":{"field_type":"Array","is_required":false,"default_value":"[]","validation_pattern":null,"description":"Tags å­—æ®µ"}}','2025-07-23 02:34:31','2025-07-23 02:34:31',1,1);

-- 5. è¯­è¨€å­¦ä¹ å¡ç‰‡
INSERT INTO custom_anki_templates VALUES('language-learning-card','è¯­è¨€å­¦ä¹ å¡ç‰‡','ä¸“ä¸ºå¤–è¯­å­¦ä¹ è®¾è®¡ï¼Œæ”¯æŒè¯æ±‡ã€çŸ­è¯­ã€å¥å‹çš„å…¨æ–¹ä½å­¦ä¹ ','AI Mistake Manager Team','1.0.0','ã“ã‚“ã«ã¡ã¯','ä½ å¥½ (Hello)','Basic','["Word","Translation","Pronunciation","Example","Grammar","Context","Tags"]',replace('ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„è¯­è¨€å­¦ä¹ ANKIå¡ç‰‡åˆ¶ä½œä¸“å®¶ã€‚è¯·æ ¹æ®æä¾›çš„è¯­è¨€å­¦ä¹ ææ–™ç”Ÿæˆè¯­è¨€å­¦ä¹ å¡ç‰‡ã€‚\n\nè¯·æŒ‰ç…§ä»¥ä¸‹æ ¼å¼ç”Ÿæˆå¡ç‰‡ï¼Œæ¯å¼ å¡ç‰‡ç”¨JSONæ ¼å¼è¡¨ç¤ºï¼š\n\n{\n  "Word": "å¤–è¯­è¯æ±‡æˆ–çŸ­è¯­",\n  "Translation": "ä¸­æ–‡ç¿»è¯‘",\n  "Pronunciation": "å‘éŸ³æ ‡æ³¨ï¼ˆå¦‚æœ‰ï¼‰",\n  "Example": "ä¾‹å¥ï¼ˆåŒ…å«è¯¥è¯æ±‡çš„å®Œæ•´å¥å­ï¼‰",\n  "Grammar": "è¯­æ³•è¯´æ˜ï¼ˆå¦‚æœ‰ï¼‰",\n  "Context": "ä½¿ç”¨åœºæ™¯æˆ–æ–‡åŒ–èƒŒæ™¯",\n  "Tags": ["è¯­è¨€", "éš¾åº¦", "ä¸»é¢˜ç­‰æ ‡ç­¾"]\n}\n\nè¦æ±‚ï¼š\n1. è¯æ±‡é€‰æ‹©è¦å®ç”¨ï¼Œä¼˜å…ˆé€‰æ‹©é«˜é¢‘è¯æ±‡\n2. ç¿»è¯‘è¦å‡†ç¡®ï¼Œè€ƒè™‘è¯­å¢ƒ\n3. ä¾‹å¥è¦è‡ªç„¶ã€åœ°é“ï¼Œå±•ç¤ºå®é™…ç”¨æ³•\n4. è¯­æ³•è¯´æ˜è¦ç®€æ´æ˜äº†\n5. åŒ…å«æ–‡åŒ–èƒŒæ™¯æœ‰åŠ©äºæ·±å…¥ç†è§£\n6. é€‚åˆè¯­è¨€å­¦ä¹ çš„å¾ªåºæ¸è¿›\n\nè¯·æ ¹æ®å†…å®¹ç”Ÿæˆé€‚é‡çš„é«˜è´¨é‡è¯­è¨€å­¦ä¹ å¡ç‰‡ã€‚','\n',char(10)),replace('<div class="card language-card">\n  <div class="word-section">\n    <div class="word">{{Word}}</div>\n    {{#Pronunciation}}\n    <div class="pronunciation">[{{Pronunciation}}]</div>\n    {{/Pronunciation}}\n  </div>\n</div>','\n',char(10)),replace('<div class="card language-card">\n  <div class="word-section">\n    <div class="word">{{Word}}</div>\n    {{#Pronunciation}}\n    <div class="pronunciation">[{{Pronunciation}}]</div>\n    {{/Pronunciation}}\n  </div>\n  \n  <div class="translation">{{Translation}}</div>\n  \n  {{#Example}}\n  <div class="example-section">\n    <div class="section-label">ä¾‹å¥</div>\n    <div class="example">{{Example}}</div>\n  </div>\n  {{/Example}}\n  \n  {{#Grammar}}\n  <div class="grammar-section">\n    <div class="section-label">è¯­æ³•</div>\n    <div class="grammar">{{Grammar}}</div>\n  </div>\n  {{/Grammar}}\n  \n  {{#Context}}\n  <div class="context-section">\n    <div class="section-label">è¯­å¢ƒ</div>\n    <div class="context">{{Context}}</div>\n  </div>\n  {{/Context}}\n</div>','\n',char(10)),replace('.language-card {\n  font-family: ''Noto Sans'', ''PingFang SC'', sans-serif;\n  padding: 24px;\n  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);\n  border-radius: 16px;\n  min-height: 200px;\n}\n\n.word-section {\n  text-align: center;\n  margin-bottom: 20px;\n}\n\n.word {\n  font-size: 32px;\n  font-weight: 700;\n  color: #2c3e50;\n  margin-bottom: 8px;\n}\n\n.pronunciation {\n  font-size: 18px;\n  color: #7f8c8d;\n  font-style: italic;\n}\n\n.translation {\n  font-size: 24px;\n  color: #27ae60;\n  text-align: center;\n  margin: 20px 0;\n  font-weight: 600;\n}\n\n.example-section,\n.grammar-section,\n.context-section {\n  background: rgba(255, 255, 255, 0.8);\n  padding: 16px;\n  border-radius: 12px;\n  margin: 12px 0;\n}\n\n.section-label {\n  font-size: 14px;\n  color: #3498db;\n  font-weight: 600;\n  margin-bottom: 8px;\n}\n\n.example {\n  font-size: 16px;\n  line-height: 1.6;\n  color: #34495e;\n}\n\n.grammar {\n  font-size: 15px;\n  color: #8e44ad;\n}\n\n.context {\n  font-size: 14px;\n  color: #7f8c8d;\n  font-style: italic;\n}','\n',char(10)),'{"Word":{"field_type":"Text","is_required":true,"default_value":"","validation_pattern":null,"description":"å¤–è¯­è¯æ±‡æˆ–çŸ­è¯­"},"Translation":{"field_type":"Text","is_required":true,"default_value":"","validation_pattern":null,"description":"ä¸­æ–‡ç¿»è¯‘"},"Pronunciation":{"field_type":"Text","is_required":false,"default_value":"","validation_pattern":null,"description":"å‘éŸ³æ ‡æ³¨"},"Example":{"field_type":"Text","is_required":false,"default_value":"","validation_pattern":null,"description":"ä¾‹å¥"},"Grammar":{"field_type":"Text","is_required":false,"default_value":"","validation_pattern":null,"description":"è¯­æ³•è¯´æ˜"},"Context":{"field_type":"Text","is_required":false,"default_value":"","validation_pattern":null,"description":"ä½¿ç”¨åœºæ™¯æˆ–æ–‡åŒ–èƒŒæ™¯"},"Tags":{"field_type":"Array","is_required":false,"default_value":"[]","validation_pattern":null,"description":"ç›¸å…³æ ‡ç­¾"}}','2025-07-23 02:34:31','2025-07-23 02:34:31',1,1);

-- 6. æ³•å¾‹æ¡æ–‡å¡ç‰‡
INSERT INTO custom_anki_templates VALUES('legal-articles-card','æ³•å¾‹æ¡æ–‡å¡ç‰‡','ä¸“ä¸ºæ³•å¾‹å­¦ä¹ è®¾è®¡ï¼Œç³»ç»ŸæŒæ¡æ³•æ¡å’Œå¸æ³•è§£é‡Š','AI Mistake Manager Team','1.0.0','ã€Šåˆ‘æ³•ã€‹ç¬¬äºŒç™¾ä¸‰åäºŒæ¡','æ•…æ„æ€äººçš„ï¼Œå¤„æ­»åˆ‘ã€æ— æœŸå¾’åˆ‘æˆ–è€…åå¹´ä»¥ä¸Šæœ‰æœŸå¾’åˆ‘','Basic','["Article","Law","Content","Interpretation","KeyPoints","Cases","Related","Tags"]',replace('ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„æ³•å¾‹å­¦ä¹ ANKIå¡ç‰‡åˆ¶ä½œä¸“å®¶ã€‚è¯·æ ¹æ®æä¾›çš„æ³•å¾‹å­¦ä¹ ææ–™ç”Ÿæˆæ³•å¾‹æ¡æ–‡å¡ç‰‡ã€‚\n\nè¯·æŒ‰ç…§ä»¥ä¸‹æ ¼å¼ç”Ÿæˆå¡ç‰‡ï¼Œæ¯å¼ å¡ç‰‡ç”¨JSONæ ¼å¼è¡¨ç¤ºï¼š\n\n{\n  "Article": "æ³•å¾‹æ¡æ–‡ç¼–å·ï¼ˆå¦‚ï¼šç¬¬232æ¡ï¼‰",\n  "Law": "æ‰€å±æ³•å¾‹ï¼ˆå¦‚ï¼šã€Šä¸­åäººæ°‘å…±å’Œå›½åˆ‘æ³•ã€‹ï¼‰",\n  "Content": "æ³•æ¡åŸæ–‡",\n  "Interpretation": "å¸æ³•è§£é‡Šæˆ–ç†è§£è¦ç‚¹",\n  "KeyPoints": "å…³é”®è¦ç´ ï¼ˆæ„æˆè¦ä»¶ç­‰ï¼‰",\n  "Cases": "å…¸å‹æ¡ˆä¾‹æˆ–æƒ…å½¢",\n  "Related": "ç›¸å…³æ³•æ¡",\n  "Tags": ["æ³•å¾‹éƒ¨é—¨", "ç« èŠ‚", "é‡è¦ç¨‹åº¦ç­‰æ ‡ç­¾"]\n}\n\nè¦æ±‚ï¼š\n1. æ³•æ¡å¼•ç”¨è¦å‡†ç¡®å®Œæ•´\n2. çªå‡ºæ„æˆè¦ä»¶å’Œå…³é”®è¦ç´ \n3. åŒ…å«å®åŠ¡åº”ç”¨è¦ç‚¹\n4. æ¡ˆä¾‹è¦æœ‰ä»£è¡¨æ€§\n5. æ³¨æ„ç›¸å…³æ³•æ¡çš„è”ç³»\n6. é€‚åˆå¸æ³•è€ƒè¯•å’Œå®åŠ¡å­¦ä¹ \n\nè¯·æ ¹æ®å†…å®¹ç”Ÿæˆé€‚é‡çš„é«˜è´¨é‡æ³•å¾‹æ¡æ–‡å¡ç‰‡ã€‚','\n',char(10)),replace('<div class="card legal-card">\n  <div class="legal-header">\n    <div class="law-name">{{Law}}</div>\n    <div class="scale-icon">âš–ï¸</div>\n  </div>\n  \n  <div class="article-number">{{Article}}</div>\n  \n  <div class="prompt">è¯¥æ¡æ–‡çš„å†…å®¹æ˜¯ä»€ä¹ˆï¼Ÿ</div>\n</div>','\n',char(10)),replace('<div class="card legal-card">\n  <div class="legal-header">\n    <div class="law-name">{{Law}}</div>\n    <div class="scale-icon">âš–ï¸</div>\n  </div>\n  \n  <div class="article-number">{{Article}}</div>\n  \n  <div class="content-section">\n    <div class="content">{{Content}}</div>\n  </div>\n  \n  {{#KeyPoints}}\n  <div class="keypoints-section">\n    <div class="section-label">ğŸ“Œ å…³é”®è¦ç´ </div>\n    <div class="keypoints">{{KeyPoints}}</div>\n  </div>\n  {{/KeyPoints}}\n  \n  {{#Interpretation}}\n  <div class="interpretation-section">\n    <div class="section-label">ğŸ’¡ ç†è§£è¦ç‚¹</div>\n    <div class="interpretation">{{Interpretation}}</div>\n  </div>\n  {{/Interpretation}}\n  \n  {{#Cases}}\n  <div class="cases-section">\n    <div class="section-label">ğŸ“‹ å…¸å‹æƒ…å½¢</div>\n    <div class="cases">{{Cases}}</div>\n  </div>\n  {{/Cases}}\n  \n  {{#Related}}\n  <div class="related-section">\n    <div class="section-label">ğŸ”— ç›¸å…³æ¡æ–‡</div>\n    <div class="related">{{Related}}</div>\n  </div>\n  {{/Related}}\n</div>','\n',char(10)),replace('.legal-card {\n  font-family: ''Source Han Serif'', ''Songti SC'', serif;\n  padding: 24px;\n  background: #fdfcf8;\n  border: 2px solid #8b6914;\n  border-radius: 8px;\n}\n\n.legal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n  padding-bottom: 12px;\n  border-bottom: 2px solid #d4af37;\n}\n\n.law-name {\n  font-size: 16px;\n  color: #6b5314;\n  font-weight: 600;\n}\n\n.scale-icon {\n  font-size: 24px;\n}\n\n.article-number {\n  font-size: 28px;\n  font-weight: 700;\n  color: #4a3c0a;\n  text-align: center;\n  margin-bottom: 16px;\n}\n\n.prompt {\n  text-align: center;\n  color: #8b7355;\n  font-style: italic;\n  font-size: 14px;\n}\n\n.content-section {\n  background: white;\n  padding: 20px;\n  border: 1px solid #d4af37;\n  border-radius: 6px;\n  margin: 20px 0;\n}\n\n.content {\n  font-size: 18px;\n  line-height: 1.8;\n  color: #2c2416;\n  text-align: justify;\n}\n\n.keypoints-section,\n.interpretation-section,\n.cases-section,\n.related-section {\n  margin: 16px 0;\n  padding: 16px;\n  background: rgba(255, 255, 255, 0.7);\n  border-left: 4px solid #d4af37;\n}\n\n.section-label {\n  font-weight: 700;\n  color: #6b5314;\n  margin-bottom: 8px;\n  font-size: 14px;\n}\n\n.keypoints {\n  font-size: 15px;\n  line-height: 1.6;\n  color: #4a3c0a;\n}\n\n.interpretation {\n  font-size: 15px;\n  line-height: 1.6;\n  color: #5a4a3a;\n}\n\n.cases {\n  font-size: 14px;\n  line-height: 1.6;\n  color: #6b5d4f;\n  background: #faf8f3;\n  padding: 12px;\n  border-radius: 4px;\n}\n\n.related {\n  font-size: 14px;\n  color: #8b6914;\n  font-style: italic;\n}','\n',char(10)),'{"Article":{"field_type":"Text","is_required":true,"default_value":"","validation_pattern":null,"description":"æ³•å¾‹æ¡æ–‡ç¼–å·"},"Law":{"field_type":"Text","is_required":true,"default_value":"","validation_pattern":null,"description":"æ‰€å±æ³•å¾‹"},"Content":{"field_type":"Text","is_required":true,"default_value":"","validation_pattern":null,"description":"æ³•æ¡åŸæ–‡"},"Interpretation":{"field_type":"Text","is_required":false,"default_value":"","validation_pattern":null,"description":"å¸æ³•è§£é‡Šæˆ–ç†è§£è¦ç‚¹"},"KeyPoints":{"field_type":"Text","is_required":false,"default_value":"","validation_pattern":null,"description":"å…³é”®è¦ç´ "},"Cases":{"field_type":"Text","is_required":false,"default_value":"","validation_pattern":null,"description":"å…¸å‹æ¡ˆä¾‹æˆ–æƒ…å½¢"},"Related":{"field_type":"Text","is_required":false,"default_value":"","validation_pattern":null,"description":"ç›¸å…³æ³•æ¡"},"Tags":{"field_type":"Array","is_required":false,"default_value":"[]","validation_pattern":null,"description":"ç›¸å…³æ ‡ç­¾"}}','2025-07-23 02:34:31','2025-07-23 02:34:31',1,1);

COMMIT;

-- ===========================================
-- å¯¼å…¥å®Œæˆ
-- ===========================================