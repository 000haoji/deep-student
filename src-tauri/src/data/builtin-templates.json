[
  {
    "id": "design-lab",
    "name": "The Lab (学术选择题)",
    "description": "Notion 风格学术选择题，简洁专注，可交互",
    "author": "Anki Design",
    "version": "3.0.3",
    "note_type": "Basic",
    "fields_json": "[\"Subject\",\"Question\",\"optiona\",\"optionb\",\"optionc\",\"optiond\",\"optione\",\"correct\",\"explanation\"]",
    "css_style": ".card, .card1 { background: #ffffff; padding: 20px; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans SC', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif; color: #37352f; }\n.lab-card { max-width: 400px; margin: 0 auto; padding: 24px 20px; box-sizing: border-box; background: #ffffff !important; background-image: none !important; border: 1px solid #ecebe8; border-radius: 12px; box-shadow: 0 6px 18px rgba(0,0,0,0.06); }\n.nightMode .lab-card, .night_mode .lab-card, .card.nightMode .lab-card, .card.night_mode .lab-card, .card1.nightMode .lab-card, .card1.night_mode .lab-card { background: #ffffff !important; color: #37352f !important; }\n.lab-tag { font-size: 0.8125rem; color: #9b9a97; margin-bottom: 6px; }\n.lab-q { font-size: 1.125rem; font-weight: 600; color: #37352f; line-height: 1.6; margin-bottom: 20px; padding-bottom: 16px; border-bottom: 1px solid #e9e9e7; }\n.lab-opt { display: flex; align-items: center; justify-content: space-between; text-align: left; padding: 10px 14px; font-size: 0.9375rem; box-sizing: border-box; color: #37352f; background: #ffffff; border: 1px solid #e9e9e7; border-radius: 4px; margin-bottom: 8px; cursor: pointer; transition: background 0.15s; }\n.lab-opt:hover:not(.answered) { background: #f7f6f3; }\n.lab-opt.correct { background: #dbeddb !important; border-color: #6bc16f !important; color: #1e5631 !important; }\n.lab-opt.wrong { background: #ffe2dd !important; border-color: #e16259 !important; color: #93261c !important; text-decoration: line-through; }\n.lab-opt.answered { cursor: default; pointer-events: none; }\n.explanation-box { margin-top: 16px; padding: 14px 16px; background: #f1f1ef; border-radius: 4px; font-size: 0.875rem; color: #55534e; line-height: 1.6; display: none; }\n.check-icon { width: 1em; height: 1em; stroke: currentColor; stroke-width: 2.5; stroke-linecap: round; stroke-linejoin: round; fill: none; margin-left: auto; flex-shrink: 0; display: none; }\n.correct .check-icon { display: block; }",
    "front_template": "<div class=\"lab-card\" id=\"lab-front\">\n  <div class=\"lab-tag\">{{Subject}}</div>\n  <div class=\"lab-q\">{{Question}}</div>\n  <div class=\"lab-opts\">\n    <div class=\"lab-opt\" data-opt=\"A\"><span>A. {{optiona}}</span><svg class=\"check-icon\" viewBox=\"0 0 24 24\"><path d=\"M20 6 9 17l-5-5\"/></svg></div>\n    <div class=\"lab-opt\" data-opt=\"B\"><span>B. {{optionb}}</span><svg class=\"check-icon\" viewBox=\"0 0 24 24\"><path d=\"M20 6 9 17l-5-5\"/></svg></div>\n    <div class=\"lab-opt\" data-opt=\"C\"><span>C. {{optionc}}</span><svg class=\"check-icon\" viewBox=\"0 0 24 24\"><path d=\"M20 6 9 17l-5-5\"/></svg></div>\n    <div class=\"lab-opt\" data-opt=\"D\"><span>D. {{optiond}}</span><svg class=\"check-icon\" viewBox=\"0 0 24 24\"><path d=\"M20 6 9 17l-5-5\"/></svg></div>\n    {{#optione}}<div class=\"lab-opt\" data-opt=\"E\"><span>E. {{optione}}</span><svg class=\"check-icon\" viewBox=\"0 0 24 24\"><path d=\"M20 6 9 17l-5-5\"/></svg></div>{{/optione}}\n  </div>\n  <div class=\"explanation-box\">\n    <strong>解析：</strong><br>{{explanation}}\n  </div>\n</div>\n<script>\n(function(){\n  var container = document.getElementById('lab-front');\n  var correctRaw = '{{correct}}'.replace(/<[^>]+>/g, '').trim().toUpperCase();\n  var correctSet = new Set(correctRaw.split(/[^A-Z0-9]+/).filter(Boolean));\n  var required = correctSet.size || 1;\n  var isMulti = required > 1;\n  var opts = container.querySelectorAll('.lab-opt');\n  var expl = container.querySelector('.explanation-box');\n  var selected = new Set();\n\n  function finalize() {\n    container.classList.add('answered');\n    opts.forEach(function(o){\n      o.classList.add('answered');\n      var letter = o.dataset.opt;\n      if (correctSet.has(letter)) { o.classList.add('correct'); }\n      if (selected.has(letter) && !correctSet.has(letter)) { o.classList.add('wrong'); }\n    });\n    if (expl && '{{explanation}}'.replace(/<[^>]+>/g, '').trim()) expl.style.display = 'block';\n  }\n\n  opts.forEach(function(btn){\n    btn.onclick = function(){\n      if (container.classList.contains('answered')) return;\n      var letter = btn.dataset.opt;\n      if (isMulti) {\n        if (selected.has(letter)) { selected.delete(letter); btn.classList.remove('selected'); return; }\n        selected.add(letter);\n        if (!correctSet.has(letter) || selected.size >= required) {\n          finalize();\n        }\n      } else {\n        selected.add(letter);\n        if (!correctSet.has(letter)) { btn.classList.add('wrong'); }\n        finalize();\n      }\n    };\n  });\n})();\n</script>",
    "back_template": "<div class=\"lab-card\">\n  <div class=\"lab-tag\">{{Subject}}</div>\n  <div class=\"lab-q\">{{Question}}</div>\n  <div class=\"lab-opts\">\n    <div class=\"lab-opt\" data-opt=\"A\"><span>A. {{optiona}}</span><svg class=\"check-icon\" viewBox=\"0 0 24 24\"><path d=\"M20 6 9 17l-5-5\"/></svg></div>\n    <div class=\"lab-opt\" data-opt=\"B\"><span>B. {{optionb}}</span><svg class=\"check-icon\" viewBox=\"0 0 24 24\"><path d=\"M20 6 9 17l-5-5\"/></svg></div>\n    <div class=\"lab-opt\" data-opt=\"C\"><span>C. {{optionc}}</span><svg class=\"check-icon\" viewBox=\"0 0 24 24\"><path d=\"M20 6 9 17l-5-5\"/></svg></div>\n    <div class=\"lab-opt\" data-opt=\"D\"><span>D. {{optiond}}</span><svg class=\"check-icon\" viewBox=\"0 0 24 24\"><path d=\"M20 6 9 17l-5-5\"/></svg></div>\n    {{#optione}}<div class=\"lab-opt\" data-opt=\"E\"><span>E. {{optione}}</span><svg class=\"check-icon\" viewBox=\"0 0 24 24\"><path d=\"M20 6 9 17l-5-5\"/></svg></div>{{/optione}}\n  </div>\n  {{#explanation}}\n  <div class=\"explanation-box\" style=\"display:block;\">\n    <strong>解析：</strong><br>{{explanation}}\n  </div>\n  {{/explanation}}\n</div>\n<script>\n(function(){\n  var correctRaw = '{{correct}}'.replace(/<[^>]+>/g, '').trim().toUpperCase();\n  var correctSet = new Set(correctRaw.split(/[^A-Z0-9]+/).filter(Boolean));\n  var opts = document.querySelectorAll('.lab-opt');\n  opts.forEach(function(o) {\n    o.classList.add('answered');\n    if(correctSet.has(o.dataset.opt)) o.classList.add('correct');\n  });\n})();\n</script>",
    "preview_front": "哪个细胞器通常被称为细胞的能量工厂？",
    "preview_back": "A. 线粒体 (正确)",
    "preview_data_json": "{\"Subject\":\"细胞生物学\",\"Question\":\"哪个细胞器通常被称为细胞的能量工厂？\",\"optiona\":\"线粒体\",\"optionb\":\"核糖体\",\"optionc\":\"细胞核\",\"optiond\":\"高尔基体\",\"correct\":\"A\",\"explanation\":\"线粒体是细胞进行有氧呼吸的主要场所。\"}",
    "field_extraction_rules_json": "{\"Subject\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"学科/科目\"},\"Question\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"题干\"},\"optiona\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"选项A\"},\"optionb\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"选项B\"},\"optionc\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"选项C\"},\"optiond\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"选项D\"},\"optione\":{\"field_type\":\"Text\",\"is_required\":false,\"description\":\"选项E（可选）\"},\"correct\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"正确答案（字母，可多选）\"},\"explanation\":{\"field_type\":\"Text\",\"is_required\":false,\"description\":\"解析\"}}",
    "generation_prompt": "请生成一道选择题，包含：1. Subject（学科分类）；2. Question（题干）；3. 四至五个选项（optiona-d必填，optione可选）；4. correct（可为单个字母或多个字母，多个用逗号/空格分隔表示多选）；5. explanation（解析）。"
  },
  {
    "id": "design-manuscript",
    "name": "The Manuscript (手稿风格)",
    "description": "正面可交互：点击划线展示对错，古典优雅体验",
    "author": "Anki Design",
    "version": "2.1.2",
    "note_type": "Basic",
    "fields_json": "[\"Figure\",\"Question\",\"optiona\",\"optionb\",\"optionc\",\"optiond\",\"optione\",\"correct\",\"explanation\"]",
    "css_style": "@import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@200;300;400;600;700&display=swap');\n\n.card { background-color: #FDFBF7; font-family: 'Noto Serif SC', serif; padding: 20px; color: #2C2C2C; }\n.manuscript-card { background: #FDFBF7; border: 1px solid #EAE5D9; padding: 2rem; position: relative; display: flex; flex-direction: column; max-width: 500px; margin: 0 auto; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.05); }\n.manuscript-fig { position: absolute; top: 1rem; right: 1rem; color: #8A8476; font-style: italic; font-size: 0.75rem; }\n.manuscript-q { font-size: 1.5rem; font-weight: 500; color: #2C2C2C; text-align: center; margin-bottom: 2rem; line-height: 1.4; }\n.manuscript-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }\n.manuscript-btn { padding: 1rem; font-size: 0.7rem; color: #5C5954; font-family: 'Noto Serif SC', serif; position: relative; overflow: hidden; border: 1px solid #EAE5D9; background: transparent; cursor: pointer; transition: color 0.3s; display:flex; align-items:center; justify-content:center; }\n.manuscript-btn:hover:not(.answered) { color: black; border-color: #d1d5db; }\n.manuscript-line { position: absolute; bottom: 0.5rem; left: 0; height: 1px; background: #B84A4A; width: 0; transition: width 0.5s; }\n\n/* States */\n.manuscript-btn.correct { color: #B84A4A; border-color: #B84A4A; }\n.manuscript-btn.correct .manuscript-line { width: 100%; }\n.manuscript-btn.wrong { color: #999; text-decoration: line-through; opacity: 0.6; border-color: #ddd; }\n.manuscript-btn.answered { cursor: default; pointer-events: none; }\n.expl-text { margin-top: 2rem; border-top: 1px solid #EAE5D9; padding-top: 1rem; color: #5C5954; font-size: 0.9rem; display: none; animation: fadeIn 0.5s; }\n@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }",
    "front_template": "<div class=\"manuscript-card\" id=\"manu-front\">\n  <div class=\"manuscript-fig\">{{Figure}}</div>\n  <div class=\"manuscript-q\">{{Question}}</div>\n  <div class=\"manuscript-grid\">\n    <div class=\"manuscript-btn\" data-opt=\"A\">{{optiona}} <div class=\"manuscript-line\"></div></div>\n    <div class=\"manuscript-btn\" data-opt=\"B\">{{optionb}} <div class=\"manuscript-line\"></div></div>\n    <div class=\"manuscript-btn\" data-opt=\"C\">{{optionc}} <div class=\"manuscript-line\"></div></div>\n    <div class=\"manuscript-btn\" data-opt=\"D\">{{optiond}} <div class=\"manuscript-line\"></div></div>\n    {{#optione}}<div class=\"manuscript-btn\" data-opt=\"E\">{{optione}} <div class=\"manuscript-line\"></div></div>{{/optione}}\n  </div>\n  <div class=\"expl-text\">\n    <span style=\"font-style:italic; font-weight:700;\">Note:</span> {{explanation}}\n  </div>\n</div>\n<script>\n(function(){\n  var container = document.getElementById('manu-front');\n  var correctRaw = '{{correct}}'.replace(/<[^>]+>/g, '').trim().toUpperCase();\n  var correctSet = new Set(correctRaw.split(/[^A-Z0-9]+/).filter(Boolean));\n  var required = correctSet.size || 1;\n  var isMulti = required > 1;\n  var opts = container.querySelectorAll('.manuscript-btn');\n  var expl = container.querySelector('.expl-text');\n  var selected = new Set();\n  var hint = document.createElement('div');\n  hint.style.fontSize = '0.8rem';\n  hint.style.color = '#5C5954';\n  hint.style.marginTop = '0.5rem';\n  hint.textContent = isMulti ? '多选题：需选择 ' + required + ' 项后自动判定' : '单选题：点击即判定';\n  (container || document.body).appendChild(hint);\n\n  function finalize() {\n    container.classList.add('answered');\n    opts.forEach(function(o){\n      o.classList.add('answered');\n      var letter = o.dataset.opt;\n      if (correctSet.has(letter)) { o.classList.add('correct'); }\n      if (selected.has(letter) && !correctSet.has(letter)) { o.classList.add('wrong'); }\n    });\n    if (expl && '{{explanation}}'.replace(/<[^>]+>/g, '').trim()) expl.style.display = 'block';\n  }\n\n  opts.forEach(function(btn){\n    btn.onclick = function(){\n      if (container.classList.contains('answered')) return;\n      var letter = btn.dataset.opt;\n      if (isMulti) {\n        if (selected.has(letter)) { selected.delete(letter); btn.classList.remove('selected'); return; }\n        selected.add(letter);\n        if (!correctSet.has(letter) || selected.size >= required) {\n          finalize();\n        }\n      } else {\n        selected.add(letter);\n        if (!correctSet.has(letter)) { btn.classList.add('wrong'); }\n        finalize();\n      }\n    };\n  });\n})();\n</script>",
    "back_template": "<div class=\"manuscript-card\">\n  <div class=\"manuscript-fig\">{{Figure}}</div>\n  <div class=\"manuscript-q\">{{Question}}</div>\n  <div class=\"manuscript-grid\">\n    <div class=\"manuscript-btn\" data-opt=\"A\">{{optiona}} <div class=\"manuscript-line\"></div></div>\n    <div class=\"manuscript-btn\" data-opt=\"B\">{{optionb}} <div class=\"manuscript-line\"></div></div>\n    <div class=\"manuscript-btn\" data-opt=\"C\">{{optionc}} <div class=\"manuscript-line\"></div></div>\n    <div class=\"manuscript-btn\" data-opt=\"D\">{{optiond}} <div class=\"manuscript-line\"></div></div>\n    {{#optione}}<div class=\"manuscript-btn\" data-opt=\"E\">{{optione}} <div class=\"manuscript-line\"></div></div>{{/optione}}\n  </div>\n  {{#explanation}}\n  <div class=\"expl-text\" style=\"display:block;\">\n    <span style=\"font-style:italic; font-weight:700;\">Note:</span> {{explanation}}\n  </div>\n  {{/explanation}}\n</div>\n<script>\n(function(){\n  var correctRaw = '{{correct}}'.replace(/<[^>]+>/g, '').trim().toUpperCase();\n  var correctSet = new Set(correctRaw.split(/[^A-Z0-9]+/).filter(Boolean));\n  var opts = document.querySelectorAll('.manuscript-btn');\n  opts.forEach(o => {\n    o.classList.add('answered');\n    if(correctSet.has(o.dataset.opt)) o.classList.add('correct');\n  });\n})();\n</script>",
    "preview_front": "第一次世界大战正式结束于哪一年？",
    "preview_back": "1918",
    "preview_data_json": "{\"Figure\":\"图 2.1 — 历史\",\"Question\":\"第一次世界大战正式结束于哪一年？\",\"optiona\":\"1914\",\"optionb\":\"1918\",\"optionc\":\"1939\",\"optiond\":\"1945\",\"correct\":\"B\",\"explanation\":\"一战于1918年11月11日停战。\"}",
    "field_extraction_rules_json": "{\"Figure\":{\"field_type\":\"Text\",\"is_required\":false,\"description\":\"图注/分类\"},\"Question\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"题干\"},\"optiona\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"选项A\"},\"optionb\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"选项B\"},\"optionc\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"选项C\"},\"optiond\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"选项D\"},\"optione\":{\"field_type\":\"Text\",\"is_required\":false,\"description\":\"选项E（可选）\"},\"correct\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"正确答案（字母，可多选）\"},\"explanation\":{\"field_type\":\"Text\",\"is_required\":false,\"description\":\"解析\"}}",
    "generation_prompt": "请生成一道历史或人文类选择题，字段：Figure(图注/分类), Question, optiona-d必填, optione可选, correct(可为单个或多个字母，多个用逗号/空格分隔表示多选), explanation。"
  },
  {
    "id": "design-redaction",
    "name": "The Redaction (机密档案风格)",
    "description": "模拟被涂黑的机密文件，点击或翻转以显示",
    "author": "Anki Design",
    "version": "1.0.8",
    "note_type": "Cloze",
    "fields_json": "[\"Header\",\"Text\",\"Extra\"]",
    "css_style": "@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Noto+Sans+SC:wght@400;700&display=swap');\n\n.card { background-color: #f3f4f6; padding: 20px; font-family: 'Noto Sans SC', sans-serif; }\n.redact-card { background: #f3f4f6; padding: 2rem; position: relative; overflow: hidden; display: flex; flex-direction: column; max-width: 500px; margin: 0 auto; border: 1px solid #d1d5db; cursor: pointer; transition: transform 0.2s ease, box-shadow 0.2s ease; }\n.redact-card.revealed { box-shadow: 0 8px 24px rgba(17,24,39,0.12); transform: translateY(-1px); }\n.redact-bg { position: absolute; inset: 0; opacity: 0.05; background-image: radial-gradient(#000 1px, transparent 1px); background-size: 10px 10px; pointer-events: none; }\n.redact-header { font-family: 'JetBrains Mono'; font-size: 0.75rem; color: #9ca3af; margin-bottom: 1.5rem; display: flex; align-items: center; gap: 0.5rem; }\n.redact-text { font-size: 1.125rem; line-height: 2; color: #1f2937; font-weight: 500; position: relative; z-index: 10; transition: filter 0.2s ease, opacity 0.2s ease; }\n.redact-card.revealed .redact-text { filter: saturate(1.05); }\n\n/* Anki Cloze Styles */\n.cloze, .cloze b { background: black !important; color: transparent !important; padding: 0 0.5rem; border-radius: 2px; transition: all 0.3s; user-select: none; font-weight: normal; }\n.card.nightMode .cloze, .card.night_mode .cloze { background: #444 !important; }\n\n/* Back Side */\n.revealed .cloze, .revealed .cloze b { background: transparent !important; color: #dc2626 !important; font-weight: 700 !important; border-bottom: 2px solid #dc2626; }",
    "front_template": "<div class=\"redact-card\">\n  <div class=\"redact-bg\"></div>\n  <div class=\"redact-header\">\n     <svg style=\"width:1em;height:1em;\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"m4 17 6-6-6-6\"/><path d=\"M12 19h8\"/></svg>\n     SYSTEM_ROOT / {{Header}}\n  </div>\n  <div class=\"redact-text\">{{cloze:Text}}</div>\n  <div class=\"redact-raw\" style=\"display:none;\">{{Text}}</div>\n</div>\n<script>\n(function(){\n  var card = document.currentScript && document.currentScript.previousElementSibling;\n  if (!card) return;\n  var rawNode = card.querySelector('.redact-raw');\n  var rawText = rawNode ? (rawNode.textContent || '') : '';\n  var answers = [];\n  var regex = /\\{\\{c\\d+::([\\s\\S]*?)(?:::[\\s\\S]*?)?\\}\\}/g;\n  var match;\n  while ((match = regex.exec(rawText)) !== null) { answers.push(match[1]); }\n  var clozes = card.querySelectorAll('.cloze');\n  var setState = function(revealed){\n    clozes.forEach(function(el, i){\n      if (revealed && answers[i] !== undefined) {\n        el.textContent = answers[i];\n      } else {\n        el.textContent = '[...]';\n      }\n    });\n  };\n  card.addEventListener('click', function(){\n    var next = !card.classList.contains('revealed');\n    card.classList.toggle('revealed');\n    setState(next);\n  });\n})();\n</script>",
    "back_template": "<div class=\"redact-card revealed\">\n  <div class=\"redact-bg\"></div>\n  <div class=\"redact-header\">\n     <svg style=\"width:1em;height:1em;\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"m4 17 6-6-6-6\"/><path d=\"M12 19h8\"/></svg>\n     SYSTEM_ROOT / {{Header}}\n  </div>\n  <div class=\"redact-text\">{{cloze:Text}}</div>\n  <div style=\"margin-top:20px; color:#666; font-size:0.9rem; position:relative; z-index:10;\">{{Extra}}</div>\n</div>",
    "preview_front": "[...] 的概念通常被描述为...",
    "preview_back": "熵 (Entropy)",
    "preview_data_json": "{\"Header\":\"机密文档\",\"Text\":\"{{c1::熵 (Entropy)}} 的概念通常被描述为封闭热力学系统内{{c2::无序程度}}的度量。\",\"Extra\":\"热力学第二定律相关\"}",
    "field_extraction_rules_json": "{\"Header\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"标题/小节\"},\"Text\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"正文内容\"},\"Extra\":{\"field_type\":\"Text\",\"is_required\":false,\"description\":\"补充说明\"}}",
    "generation_prompt": "请生成一个填空题，适合机密文件风格，字段：Header(文件分类), Text(包含{{c1::...}}), Extra(解释)。"
  },
  {
    "id": "design-glass",
    "name": "The Glass (学术填空题)",
    "description": "Notion 风格学术填空题，简洁专注",
    "author": "Anki Design",
    "version": "3.0.6",
    "note_type": "Cloze",
    "fields_json": "[\"Subject\",\"Text\",\"Extra\"]",
    "css_style": ".card, .card1 { background: #ffffff; padding: 20px; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans SC', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif; color: #37352f; }\n.glass-wrapper { max-width: 480px; margin: 0 auto; padding: 4px 0; }\n.glass-panel { padding: 28px 24px; background: #ffffff !important; background-image: none !important; border: 1px solid #ecebe8; border-radius: 12px; box-shadow: 0 6px 18px rgba(0,0,0,0.06); cursor: pointer; transition: transform 0.2s ease, box-shadow 0.2s ease; }\n.glass-panel.revealed { box-shadow: 0 10px 24px rgba(46,125,50,0.16); transform: translateY(-1px); }\n.nightMode .glass-panel, .night_mode .glass-panel, .card.nightMode .glass-panel, .card.night_mode .glass-panel, .card1.nightMode .glass-panel, .card1.night_mode .glass-panel { background: #ffffff !important; color: #37352f !important; }\n.glass-sub { font-size: 0.8125rem; color: #9b9a97; margin-bottom: 16px; }\n.glass-text { font-size: 1.0625rem; color: #37352f; line-height: 1.8; transition: color 0.2s ease; }\n.cloze, .cloze b { padding: 2px 8px; border-radius: 3px; background: #e9e9e7 !important; color: transparent !important; font-weight: normal; }\n.revealed .cloze, .revealed .cloze b { background: #dbeddb !important; color: #2e7d32 !important; font-weight: 600; }\n.glass-extra { margin-top: 16px; padding-top: 12px; border-top: 1px solid #e9e9e7; font-size: 0.875rem; color: #9b9a97; line-height: 1.6; }",
    "front_template": "<div class=\"glass-wrapper\">\n  <div class=\"glass-panel\">\n    <div class=\"glass-sub\">{{Subject}}</div>\n    <p class=\"glass-text\">{{cloze:Text}}</p>\n    <div class=\"glass-raw\" style=\"display:none;\">{{Text}}</div>\n  </div>\n</div>\n<script>\n(function(){\n  var wrapper = document.currentScript && document.currentScript.previousElementSibling;\n  if (!wrapper) return;\n  var panel = wrapper.querySelector('.glass-panel');\n  if (!panel) return;\n  var rawNode = panel.querySelector('.glass-raw');\n  var rawText = rawNode ? (rawNode.textContent || '') : '';\n  var answers = [];\n  var regex = /\\{\\{c\\d+::([\\s\\S]*?)(?:::[\\s\\S]*?)?\\}\\}/g;\n  var match;\n  while ((match = regex.exec(rawText)) !== null) { answers.push(match[1]); }\n  var clozes = panel.querySelectorAll('.cloze');\n  var setState = function(revealed){\n    clozes.forEach(function(el, i){\n      if (revealed && answers[i] !== undefined) {\n        el.textContent = answers[i];\n      } else {\n        el.textContent = '[...]';\n      }\n    });\n  };\n  panel.addEventListener('click', function(){\n    var next = !panel.classList.contains('revealed');\n    panel.classList.toggle('revealed');\n    setState(next);\n  });\n})();\n</script>",
    "back_template": "<div class=\"glass-wrapper\">\n  <div class=\"glass-panel revealed\">\n    <div class=\"glass-sub\">{{Subject}}</div>\n    <p class=\"glass-text\">{{cloze:Text}}</p>\n    {{#Extra}}\n    <div class=\"glass-extra\">{{Extra}}</div>\n    {{/Extra}}\n  </div>\n</div>",
    "preview_front": "操作性条件反射理论主要由 [...] 提出。",
    "preview_back": "B.F. 斯金纳",
    "preview_data_json": "{\"Subject\":\"心理学导论\",\"Text\":\"操作性条件反射理论主要由 {{c1::B.F. 斯金纳}} 于 1938 年提出。\",\"Extra\":\"行为主义心理学代表人物\"}",
    "field_extraction_rules_json": "{\"Subject\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"学科/主题\"},\"Text\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"正文内容\"},\"Extra\":{\"field_type\":\"Text\",\"is_required\":false,\"description\":\"补充说明\"}}",
    "generation_prompt": "请生成一个填空题，字段：Subject(学科), Text(包含{{c1::...}}), Extra(补充说明)。"
  },
  {
    "id": "design-swiss",
    "name": "The Swiss (瑞士设计风格)",
    "description": "正面可交互：点击卡片淡入切换定义，经典瑞士排版",
    "author": "Anki Design",
    "version": "2.1.6",
    "note_type": "Basic",
    "fields_json": "[\"Front\",\"Author\",\"BackTitle\",\"BackDetail\"]",
    "css_style": ".card, .card1 { background-color: #F5F5F5; padding: 20px; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans SC', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif; color: #1D1D1F; }\n.swiss-wrapper { width: 100%; max-width: 420px; margin: 0 auto; cursor: pointer; }\n.swiss-shell { background: #F5F5F5; border: none !important; box-shadow: inset 0 0 0 1px #E6E6E6; min-height: 320px; padding: 2rem; box-sizing: border-box; display: flex; flex-direction: column; justify-content: space-between; transition: transform 220ms ease, box-shadow 220ms ease, filter 220ms ease; }\n.swiss-shell.revealed { background: #1D1D1F !important; color: #F3F4F6 !important; box-shadow: inset 0 0 0 1px #1D1D1F, 0 10px 22px rgba(0,0,0,0.12); transform: translateY(-1px); }\n.swiss-front-face, .swiss-back-face { animation: swissFade .28s ease; }\n.swiss-back-face { display: none; }\n.swiss-shell.revealed .swiss-front-face { display: none; }\n.swiss-shell.revealed .swiss-back-face { display: block; }\n.swiss-bar { width: 3rem; height: 0.25rem; background: #FF3B30; margin-bottom: 1rem; }\n.swiss-h1 { font-size: clamp(1.5rem, 8vw, 3rem); font-weight: 900; letter-spacing: -0.05em; line-height: 1.08; margin: 0; word-break: break-word; overflow-wrap: break-word; color: #1D1D1F !important; }\n.swiss-front-face .swiss-h1 { color: #1D1D1F !important; }\n.swiss-auth { margin-top: auto; font-size: 0.95rem; font-weight: 500; color: #6b7280; }\n.swiss-front-face .swiss-auth { color: #6b7280 !important; }\n.swiss-shell.revealed .swiss-auth { color: #ECEEF3 !important; }\n.swiss-def-t { color: #FF3B30; font-weight: 700; font-size: 1.25rem; margin: 0 0 1rem 0; }\n.swiss-def-p { font-size: 1.05rem; font-weight: 400; line-height: 1.65; margin: 0; color: #ECEEF3; word-break: break-word; overflow-wrap: break-word; }\n.swiss-back-face .swiss-def-t { color: #FF3B30 !important; }\n.swiss-back-face .swiss-def-p, .swiss-back-face .swiss-auth { color: #ECEEF3 !important; }\n.nightMode .swiss-front-face .swiss-h1, .night_mode .swiss-front-face .swiss-h1, .card.nightMode .swiss-front-face .swiss-h1, .card.night_mode .swiss-front-face .swiss-h1, .card1.nightMode .swiss-front-face .swiss-h1, .card1.night_mode .swiss-front-face .swiss-h1 { color: #1D1D1F !important; }\n@keyframes swissFade { from { opacity: 0; transform: translateY(4px); } to { opacity: 1; transform: translateY(0); } }",
    "front_template": "<div class=\"swiss-wrapper\" onclick=\"this.querySelector('.swiss-shell').classList.toggle('revealed')\">\n  <div class=\"swiss-shell\">\n    <div class=\"swiss-front-face\">\n      <div class=\"swiss-bar\"></div>\n      <h1 class=\"swiss-h1\">{{Front}}</h1>\n      <p class=\"swiss-auth\">{{Author}}</p>\n    </div>\n    <div class=\"swiss-back-face\">\n      <h2 class=\"swiss-def-t\">{{#BackTitle}}{{BackTitle}}{{/BackTitle}}{{^BackTitle}}{{Front}}{{/BackTitle}}</h2>\n      <p class=\"swiss-def-p\">{{#BackDetail}}{{BackDetail}}{{/BackDetail}}{{^BackDetail}}{{Back}}{{/BackDetail}}</p>\n      <p class=\"swiss-auth\">{{Author}}</p>\n    </div>\n  </div>\n</div>",
    "back_template": "<div class=\"swiss-wrapper\">\n  <div class=\"swiss-shell revealed\">\n    <div class=\"swiss-back-face\" style=\"display:block;\">\n      <h2 class=\"swiss-def-t\">{{#BackTitle}}{{BackTitle}}{{/BackTitle}}{{^BackTitle}}{{Front}}{{/BackTitle}}</h2>\n      <p class=\"swiss-def-p\">{{#BackDetail}}{{BackDetail}}{{/BackDetail}}{{^BackDetail}}{{Back}}{{/BackDetail}}</p>\n      <p class=\"swiss-auth\">{{Author}}</p>\n    </div>\n  </div>\n</div>",
    "preview_front": "超人",
    "preview_back": "尼采哲学概念",
    "preview_data_json": "{\"Front\":\"超人\",\"Author\":\"弗里德里希·尼采\",\"BackTitle\":\"定义\",\"BackDetail\":\"一种超越现有社会价值观并确立自身目标的“超人”概念。尼采认为这是人类进化的下一个阶段。\"}",
    "field_extraction_rules_json": "{\"Front\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"正面标题/主句\"},\"Author\":{\"field_type\":\"Text\",\"is_required\":false,\"description\":\"作者/出处\"},\"BackTitle\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"背面标题\"},\"BackDetail\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"背面详情\"}}",
    "generation_prompt": "请生成一个概念解释卡片，字段：Front(核心概念), Author(提出者/相关人物), BackTitle(标题), BackDetail(详细解释)。"
  },
  {
    "id": "design-polaroid",
    "name": "The Polaroid (拍立得风格)",
    "description": "正面可交互：点击照片切换正面引言与背面作者信息",
    "author": "Anki Design",
    "version": "2.1.1",
    "note_type": "Basic",
    "fields_json": "[\"Quote\",\"Prompt\",\"Author\",\"Source\"]",
    "css_style": "@import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@600&display=swap');\n\n.card { background-color: #e5e5e5; padding: 20px; font-family: 'Noto Serif SC', serif; }\n.polar-card { background: white; padding: 15px 15px 40px 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); transform: rotate(-2deg); max-width: 350px; margin: 20px auto; text-align: center; transition: transform 0.5s; cursor: pointer; }\n.polar-card:hover { transform: translateY(-4px) rotate(-2deg); }\n.polar-inner { border: 1px solid #eee; padding: 2rem 1rem; min-height: 200px; display: flex; flex-direction: column; justify-content: center; align-items: center; position: relative; }\n.polar-dots { position: absolute; top: 1rem; display: flex; gap: 0.5rem; }\n.polar-dot { width: 0.25rem; height: 0.25rem; background: #d1d5db; border-radius: 50%; }\n.polar-icon { width: 24px; height: 24px; color: #d1d5db; margin-bottom: 1.5rem; }\n.polar-q { font-size: 1.5rem; color: #333; }\n.polar-hint { margin-top: 1rem; font-size: 0.7rem; color: #999; font-family: sans-serif; text-transform: uppercase; letter-spacing: 0.1em; }\n.polar-name { font-size: 1.2rem; font-weight: bold; margin-bottom: 0.5rem; color: #111827; }\n.polar-source { font-size: 0.9rem; color: #666; font-style: italic; }\n.polar-avatar { width: 4rem; height: 4rem; background: #f3f4f6; border-radius: 50%; margin: 0 auto 1rem; display: flex; align-items: center; justify-content: center; color: #4b5563; font-weight: 700; font-family: sans-serif; font-size: 1.25rem; }\n.polar-face { width: 100%; animation: fadeIn 0.5s; } \n@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }",
    "front_template": "<div class=\"polar-card\" onclick=\"togglePolaroid(this)\">\n  <div class=\"polar-inner\">\n    <div class=\"polar-dots\"><div class=\"polar-dot\"></div><div class=\"polar-dot\"></div></div>\n    <div class=\"polar-face polar-front\">\n       <svg class=\"polar-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2-1.5-2H4c-.75 0-1.5.75-1.5 1.5v7c0 7.5 4 8 4 8Z\"/><path d=\"M16 21c3 0 7-1 7-8V5c0-1.25-.757-2-1.5-2H17c-.75 0-1.5.75-1.5 1.5v7c0 7.5 4 8 4 8Z\"/></svg>\n       <h3 class=\"polar-q\">\"{{Quote}}\"</h3>\n       <p class=\"polar-hint\">{{Prompt}}</p>\n    </div>\n    <div class=\"polar-face polar-back\" style=\"display:none;\">\n       <div class=\"polar-avatar\">{{Author}}</div>\n       <h2 class=\"polar-name\">{{Author}}</h2>\n       <p class=\"polar-source\">{{Source}}</p>\n    </div>\n  </div>\n</div>\n<script>\nfunction togglePolaroid(el) {\n  var f = el.querySelector('.polar-front');\n  var b = el.querySelector('.polar-back');\n  if(f.style.display === 'none') {\n     f.style.display = 'block';\n     b.style.display = 'none';\n  } else {\n     f.style.display = 'none';\n     b.style.display = 'block';\n  }\n}\n</script>",
    "back_template": "<div class=\"polar-card\" style=\"transform: rotate(1deg);\">\n  <div class=\"polar-inner\">\n    <div class=\"polar-face polar-back\">\n       <div class=\"polar-avatar\">{{Author}}</div>\n       <h2 class=\"polar-name\">{{Author}}</h2>\n       <p class=\"polar-source\">{{Source}}</p>\n    </div>\n  </div>\n</div>",
    "preview_front": "\"我思故我在。\"",
    "preview_back": "勒内·笛卡尔",
    "preview_data_json": "{\"Quote\":\"我思故我在。\",\"Prompt\":\"识别哲学家\",\"Author\":\"勒内·笛卡尔\",\"Source\":\"《谈谈方法》，1637\"}",
    "field_extraction_rules_json": "{\"Quote\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"引用/名言\"},\"Prompt\":{\"field_type\":\"Text\",\"is_required\":false,\"description\":\"提示语\"},\"Author\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"作者\"},\"Source\":{\"field_type\":\"Text\",\"is_required\":false,\"description\":\"出处/来源\"}}",
    "generation_prompt": "请生成一个名言或引言卡片，字段：Quote(内容), Prompt(提示), Author(作者), Source(出处)。"
  },
  {
    "id": "design-architect",
    "name": "The Architect (蓝图风格)",
    "description": "正面可交互：点击蓝图翻转查看公式与说明",
    "author": "Anki Design",
    "version": "2.1.1",
    "note_type": "Basic",
    "fields_json": "[\"ID\",\"Question\",\"Formula\",\"Expl\"]",
    "css_style": "@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;700&display=swap');\n\n.card { background-color: white; padding: 20px; font-family: 'Noto Sans SC', sans-serif; }\n.arch-card { background: white; border: 1px solid #dbeafe; position: relative; overflow: hidden; max-width: 400px; margin: 0 auto; min-height: 250px; background-image: linear-gradient(#e0f2fe 1px, transparent 1px), linear-gradient(90deg, #e0f2fe 1px, transparent 1px); background-size: 20px 20px; display: flex; align-items: center; justify-content: center; cursor: pointer; }\n.arch-marker { position: absolute; width: 1rem; height: 1rem; border-color: #60a5fa; }\n.tl { top: 10px; left: 10px; border-top: 2px solid; border-left: 2px solid; }\n.br { bottom: 10px; right: 10px; border-bottom: 2px solid; border-right: 2px solid; }\n.arch-idx { position: absolute; top: 15px; left: 30px; font-size: 0.7rem; color: #60a5fa; font-family: monospace; background: white; padding: 0.2rem 0.5rem; border: 1px solid #bfdbfe; }\n.arch-q { font-size: 1.25rem; font-weight: 700; color: #1e293b; background: white; padding: 10px 20px; border: 1px solid #bfdbfe; box-shadow: 0 1px 2px rgba(0,0,0,0.05); position: relative; z-index: 2; transition: all 0.3s; }\n.arch-content { background: #2563eb; color: white; padding: 1.5rem; text-align: center; border-radius: 4px; box-shadow: 0 10px 20px rgba(37, 99, 235, 0.2); max-width: 80%; position: absolute; opacity: 0; transform: translateY(10px); transition: all 0.3s; pointer-events: none; }\n.arch-card.flipped .arch-q { opacity: 0.1; filter: blur(2px); }\n.arch-card.flipped .arch-content { opacity: 1; transform: translateY(0); pointer-events: auto; }\n.arch-formula { font-family: monospace; font-size: 1.5rem; margin-bottom: 0.5rem; display: flex; align-items: center; justify-content: center; gap: 0.5rem; }\n.arch-icon { width: 16px; height: 16px; fill: none; stroke: currentColor; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; }",
    "front_template": "<div class=\"arch-card\" onclick=\"this.classList.toggle('flipped')\">\n  <div class=\"arch-marker tl\"></div><div class=\"arch-marker br\"></div>\n  <span class=\"arch-idx\">{{ID}}</span>\n  <div class=\"arch-q\">{{Question}}</div>\n  <div class=\"arch-content\">\n    <div class=\"arch-formula\">{{Formula}}</div>\n    <p style=\"font-size:0.9rem; color:#dbeafe;\">{{Expl}}</p>\n  </div>\n</div>",
    "back_template": "<div class=\"arch-card flipped\">\n  <div class=\"arch-content\">\n    <div class=\"arch-formula\">{{Formula}}</div>\n    <p style=\"font-size:0.9rem; color:#dbeafe;\">{{Expl}}</p>\n  </div>\n</div>",
    "preview_front": "牛顿第二定律",
    "preview_back": "F = ma",
    "preview_data_json": "{\"ID\":\"问题索引_01\",\"Question\":\"牛顿第二定律\",\"Formula\":\"F = ma\",\"Expl\":\"物体所受的合外力等于其质量与加速度的乘积。\"}",
    "field_extraction_rules_json": "{\"ID\":{\"field_type\":\"Text\",\"is_required\":false,\"description\":\"索引/编号\"},\"Question\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"问题/定理名\"},\"Formula\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"公式\"},\"Expl\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"解释说明\"}}",
    "generation_prompt": "请生成一个公式或定理卡片，字段：ID(索引号), Question(定理名), Formula(公式), Expl(解释)。"
  },
  {
    "id": "design-lexicon",
    "name": "The Lexicon (词典风格)",
    "description": "正面可交互：点击切换单词与释义，优雅词典排版",
    "author": "Anki Design",
    "version": "2.1.1",
    "note_type": "Basic",
    "fields_json": "[\"Word\",\"Phonetic\",\"Pos\",\"Definition\",\"Etym\"]",
    "css_style": "@import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&display=swap');\n\n.card { background-color: #fffbf2; padding: 20px; font-family: 'Noto Serif SC', serif; }\n.lex-card { border: 1px solid #e5e0d5; padding: 2rem; max-width: 400px; margin: 0 auto; text-align: center; background: #fffbf2; position: relative; cursor: pointer; min-height: 200px; display: flex; flex-direction: column; justify-content: center; }\n.lex-src { position: absolute; top: 0.5rem; right: 1rem; font-size: 0.75rem; font-style: italic; color: #9ca3af; font-family: serif; }\n.lex-word { font-size: 2.25rem; font-weight: 700; color: #111827; margin: 0; letter-spacing: -0.025em; }\n.lex-pho { font-family: sans-serif; color: #6b7280; margin-top: 0.5rem; display: block; font-size: 0.875rem; }\n.lex-face { width: 100%; animation: fadeIn 0.3s; }\n.lex-back-content { text-align: left; margin-top: 1rem; border-top: 1px solid #e5e0d5; padding-top: 1rem; }\n.lex-pos { font-size: 0.75rem; font-weight: 700; color: #6b7280; text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 0.25rem; }\n.lex-def { font-size: 1.125rem; color: #111; line-height: 1.6; }\n.lex-etym { font-size: 0.875rem; color: #6b7280; font-style: italic; margin-top: 1rem; padding-left: 0.75rem; border-left: 2px solid #d1d5db; }\n@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }",
    "front_template": "<div class=\"lex-card\" id=\"lex-card-front\">\n  <div class=\"lex-src\">Oxford 1989</div>\n  <div class=\"lex-face lex-front\">\n    <h1 class=\"lex-word\">{{Word}}</h1>\n    <span class=\"lex-pho\">{{Phonetic}}</span>\n  </div>\n  <div class=\"lex-face lex-back-content\" style=\"display:none;\">\n    <div class=\"lex-pos\">{{Pos}}</div>\n    <p class=\"lex-def\">{{Definition}}</p>\n    <p class=\"lex-etym\">{{Etym}}</p>\n  </div>\n</div>\n<script>\n(function(){\n  var card = document.getElementById('lex-card-front');\n  if(!card) return;\n  card.onclick = function() {\n    var f = card.querySelector('.lex-front');\n    var b = card.querySelector('.lex-back-content');\n    if(f.style.display === 'none') {\n       f.style.display = 'block';\n       b.style.display = 'none';\n    } else {\n       f.style.display = 'none';\n       b.style.display = 'block';\n    }\n  };\n})();\n</script>",
    "back_template": "<div class=\"lex-card\">\n  <div class=\"lex-src\">Oxford 1989</div>\n  <div class=\"lex-face lex-front\">\n    <h1 class=\"lex-word\">{{Word}}</h1>\n    <span class=\"lex-pho\">{{Phonetic}}</span>\n  </div>\n  <div class=\"lex-face lex-back-content\">\n    <div class=\"lex-pos\">{{Pos}}</div>\n    <p class=\"lex-def\">{{Definition}}</p>\n    <p class=\"lex-etym\">{{Etym}}</p>\n  </div>\n</div>",
    "preview_front": "Serendipity",
    "preview_back": "意外发现珍奇事物的本领",
    "preview_data_json": "{\"Word\":\"Serendipity\",\"Phonetic\":\"/ˌserənˈdɪpədē/\",\"Pos\":\"Noun.\",\"Definition\":\"意外发现珍奇事物的本领。\",\"Etym\":\"源自波斯童话《锡兰三王子》。\"}",
    "field_extraction_rules_json": "{\"Word\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"单词/词条\"},\"Phonetic\":{\"field_type\":\"Text\",\"is_required\":false,\"description\":\"音标\"},\"Pos\":{\"field_type\":\"Text\",\"is_required\":false,\"description\":\"词性\"},\"Definition\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"释义\"},\"Etym\":{\"field_type\":\"Text\",\"is_required\":false,\"description\":\"词源/出处\"}}",
    "generation_prompt": "请生成一个单词学习卡片，字段：Word, Phonetic, Pos(词性), Definition, Etym(词源)。"
  },
  {
    "id": "design-botanical",
    "name": "The Botanical (植物标本风格)",
    "description": "正面可交互：点击标本滑动展示详细信息",
    "author": "Anki Design",
    "version": "2.1.1",
    "note_type": "Basic",
    "fields_json": "[\"Specimen\",\"Name\",\"CommonName\",\"Desc\"]",
    "css_style": "@import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@1,600&display=swap');\n\n.card { background-color: #F3F6F4; padding: 20px; font-family: 'Cormorant Garamond', serif; }\n.bot-card { border: 1px solid #E0E8E2; padding: 2rem; position: relative; overflow: hidden; max-width: 400px; margin: 0 auto; min-height: 300px; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); cursor: pointer; }\n.bot-tex { position: absolute; inset: 0; opacity: 0.2; background-image: url(\"data:image/svg+xml,%3Csvg width='6' height='6' viewBox='0 0 6 6' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%235C6B5E' fill-opacity='0.2' fill-rule='evenodd'%3E%3Cpath d='M5 0h1v1H5V0zM0 5h1v1H0V5z'/%3E%3C/g%3E%3C/svg%3E\"); z-index: 0; }\n.bot-blob1 { position: absolute; top: -40px; left: -40px; width: 12rem; height: 12rem; background: #D4E2D8; border-radius: 50%; opacity: 0.6; mix-blend-mode: multiply; filter: blur(24px); animation: pulse 6s infinite; z-index: 0; }\n.bot-blob2 { position: absolute; bottom: -20px; right: -20px; width: 10rem; height: 10rem; background: #E0D8C8; border-radius: 50%; opacity: 0.6; mix-blend-mode: multiply; filter: blur(24px); animation: pulse 8s infinite; z-index: 0; }\n.bot-content { position: relative; z-index: 10; width: 100%; display: flex; flex-direction: column; align-items: center; transition: all 0.7s; }\n.bot-spec { font-size: 0.75rem; letter-spacing: 0.3em; text-transform: uppercase; color: #5C6B5E; margin-bottom: 1rem; font-family: sans-serif; }\n.bot-h1 { font-size: 2.25rem; font-style: italic; font-weight: 600; color: #2F3E32; margin-bottom: 0.5rem; }\n.bot-div { width: 2rem; height: 1px; background: #8B988E; margin: 0 auto; }\n.bot-card.flipped .bot-content { transform: translateY(-2rem) scale(0.75); opacity: 0.4; filter: blur(1px); }\n.bot-back-box { position: absolute; bottom: 0; left: 1rem; right: 1rem; background: rgba(255,255,255,0.6); backdrop-filter: blur(4px); border: 1px solid rgba(255,255,255,0.5); padding: 1.5rem; border-top-left-radius: 0.5rem; border-top-right-radius: 0.5rem; transition: all 0.5s ease-out; transform: translateY(100%); opacity: 0; display: flex; gap: 0.75rem; align-items: flex-start; text-align: left; }\n.bot-card.flipped .bot-back-box { transform: translateY(0); opacity: 1; }\n.bot-cn { font-size: 1.125rem; font-weight: 700; color: #2F3E32; margin-bottom: 0.25rem; }\n.bot-desc { font-size: 0.875rem; line-height: 1.6; color: #4A574E; font-family: sans-serif; }\n.bot-icon { width: 16px; height: 16px; color: #5C6B5E; flex-shrink: 0; margin-top: 0.25rem; }\n@keyframes pulse { 50% { opacity: .5; } }",
    "front_template": "<div class=\"bot-card\" onclick=\"this.classList.toggle('flipped')\">\n  <div class=\"bot-tex\"></div><div class=\"bot-blob1\"></div>\n  <div class=\"bot-content\">\n    <div class=\"bot-spec\">{{Specimen}}</div>\n    <h1 class=\"bot-h1\">{{Name}}</h1>\n    <div class=\"bot-div\"></div>\n  </div>\n  <div class=\"bot-back-box\">\n     <svg class=\"bot-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.77 10-10 10Z\"/><path d=\"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12\"/></svg>\n     <div>\n        <div class=\"bot-cn\">{{CommonName}}</div>\n        <p class=\"bot-desc\">{{Desc}}</p>\n     </div>\n  </div>\n</div>",
    "back_template": "<div class=\"bot-card flipped\">\n  <div class=\"bot-tex\"></div><div class=\"bot-blob2\"></div>\n  <div class=\"bot-content\">\n    <div class=\"bot-spec\">{{Specimen}}</div>\n    <h1 class=\"bot-h1\">{{Name}}</h1>\n    <div class=\"bot-div\"></div>\n  </div>\n  <div class=\"bot-back-box\">\n     <svg class=\"bot-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.77 10-10 10Z\"/><path d=\"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12\"/></svg>\n     <div>\n        <div class=\"bot-cn\">{{CommonName}}</div>\n        <p class=\"bot-desc\">{{Desc}}</p>\n     </div>\n  </div>\n</div>",
    "preview_front": "Photosynthesis",
    "preview_back": "光合作用",
    "preview_data_json": "{\"Specimen\":\"Specimen No. 82\",\"Name\":\"Photosynthesis\",\"CommonName\":\"光合作用\",\"Desc\":\"植物、藻类利用叶绿素，在可见光的照射下，将二氧化碳和水转化为有机物，并释放出氧气的生化过程。\"}",
    "field_extraction_rules_json": "{\"Specimen\":{\"field_type\":\"Text\",\"is_required\":false,\"description\":\"标本编号/分类\"},\"Name\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"学名/英文名\"},\"CommonName\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"中文名/通用名\"},\"Desc\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"描述说明\"}}",
    "generation_prompt": "请生成一个生物或自然类百科卡片，字段：Specimen(编号), Name(英文/学名), CommonName(中文名), Desc(描述)。"
  },
  {
    "id": "design-eink",
    "name": "The E-Ink (电子墨水屏风格)",
    "description": "正面可交互：点击屏幕触发全屏墨水刷新闪烁特效，恢复经典阅读体验",
    "author": "Anki Design",
    "version": "2.1.1",
    "note_type": "Basic",
    "fields_json": "[\"Collection\",\"Front\",\"Back\",\"Sub\"]",
    "css_style": "@import url('https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&display=swap');\n\n.card { background-color: #EBEBEB; padding: 20px; font-family: 'Noto Serif SC', serif; }\n.eink-card { background: #EBEBEB; border: 6px solid #333; border-radius: 8px; position: relative; overflow: hidden; max-width: 400px; margin: 0 auto; min-height: 400px; display: flex; flex-direction: column; cursor: pointer; }\n.eink-noise { position: absolute; inset: 0; pointer-events: none; opacity: 0.05; mix-blend-mode: multiply; background-image: url(\"data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E\"); z-index: 0; }\n.eink-status { display: flex; justify-content: space-between; padding: 8px 16px; font-size: 10px; font-family: sans-serif; color: #6b7280; border-bottom: 1px solid rgba(209,213,219,0.5); position: relative; z-index: 1; }\n.eink-inner { padding: 2rem; flex: 1; display: flex; flex-direction: column; position: relative; z-index: 1; }\n.eink-tag { font-size: 0.75rem; color: #6b7280; font-family: sans-serif; text-transform: uppercase; letter-spacing: 0.1em; margin-bottom: 0.5rem; }\n.eink-h1 { font-size: 2.25rem; font-weight: 700; color: #111; letter-spacing: -0.025em; margin: 0 0 1rem 0; text-shadow: 0 0 1px rgba(0,0,0,0.1); }\n.eink-sub { font-size: 0.875rem; color: #4b5563; font-family: sans-serif; font-style: italic; }\n.eink-p { font-size: 1rem; color: #222; line-height: 1.6; text-align: justify; margin-top: 1rem; text-shadow: 0 0 1px rgba(0,0,0,0.1); display: none; }\n.eink-footer { margin-top: auto; font-size: 9px; color: #6b7280; font-family: sans-serif; display: flex; justify-content: space-between; padding-top: 1rem; }\n.icon-wifi { width: 12px; height: 12px; margin-right: 4px; }\n.icon-battery { width: 16px; height: 10px; margin-left: 4px; }\n/* E-Ink Flash Animation */\n@keyframes eink-flash {\n  0% { filter: invert(0); }\n  50% { filter: invert(1); }\n  100% { filter: invert(0); }\n}\n.flashing { animation: eink-flash 0.6s cubic-bezier(0.4, 0, 0.2, 1); }",
    "front_template": "<div class=\"eink-card\" id=\"eink-front\">\n  <div class=\"eink-noise\"></div>\n  <div class=\"eink-status\">\n     <span style=\"display:flex;align-items:center;\"><svg class=\"icon-wifi\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M12 20h.01\"/><path d=\"M2 8.82a15 15 0 0 1 20 0\"/><path d=\"M5 12.859a10 10 0 0 1 14 0\"/><path d=\"M8.5 16.429a5 5 0 0 1 7 0\"/></svg> Library</span>\n     <span>12:45 PM</span>\n     <span style=\"display:flex;align-items:center;\">98% <svg class=\"icon-battery\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><rect width=\"16\" height=\"10\" x=\"2\" y=\"7\" rx=\"2\" ry=\"2\"/><line x1=\"22\" x2=\"22\" y1=\"11\" y2=\"13\"/></svg></span>\n  </div>\n  <div class=\"eink-inner\" style=\"justify-content:center;\">\n    <div class=\"eink-tag\">{{Collection}}</div>\n    <h1 class=\"eink-h1\">{{Front}}</h1>\n    <div class=\"eink-sub\">{{Sub}}</div>\n    <div class=\"eink-p\" id=\"eink-def\">{{Back}}</div>\n    <div style=\"margin-top:auto; text-align:center; font-size:0.7rem; color:#999; font-family:sans-serif;\">[Tap to Refresh Page]</div>\n  </div>\n</div>\n<script>\n(function(){\n  var card = document.getElementById('eink-front');\n  var def = document.getElementById('eink-def');\n  card.onclick = function() {\n    if(card.classList.contains('flashing')) return;\n    card.classList.add('flashing');\n    setTimeout(function(){\n       def.style.display = 'block';\n       card.querySelector('.eink-sub').style.display='none';\n       card.classList.remove('flashing');\n    }, 300);\n  }\n})();\n</script>",
    "back_template": "<div class=\"eink-card\">\n  <div class=\"eink-noise\"></div>\n  <div class=\"eink-status\">\n     <span style=\"display:flex;align-items:center;\"><svg class=\"icon-wifi\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M12 20h.01\"/><path d=\"M2 8.82a15 15 0 0 1 20 0\"/><path d=\"M5 12.859a10 10 0 0 1 14 0\"/><path d=\"M8.5 16.429a5 5 0 0 1 7 0\"/></svg> Library</span>\n     <span>12:45 PM</span>\n     <span style=\"display:flex;align-items:center;\">98% <svg class=\"icon-battery\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><rect width=\"16\" height=\"10\" x=\"2\" y=\"7\" rx=\"2\" ry=\"2\"/><line x1=\"22\" x2=\"22\" y1=\"11\" y2=\"13\"/></svg></span>\n  </div>\n  <div class=\"eink-inner\">\n    <h2 style=\"font-size:1.2rem; margin:0; font-weight:700;\">{{Front}}</h2>\n    <div class=\"eink-p\" style=\"display:block;\">{{Back}}</div>\n    <div class=\"eink-footer\">\n      <span>Loc 384</span><span>100%</span>\n    </div>\n  </div>\n</div>",
    "preview_front": "多巴胺",
    "preview_back": "主要负责大脑的情欲、感觉...",
    "preview_data_json": "{\"Collection\":\"Word of the Day\",\"Front\":\"多巴胺\",\"Sub\":\"[Dopamine]\",\"Back\":\"主要负责大脑的情欲、感觉，将兴奋及开心的信息传递。关联：奖赏机制、成瘾行为以及运动控制调节。\"}",
    "field_extraction_rules_json": "{\"Collection\":{\"field_type\":\"Text\",\"is_required\":false,\"description\":\"集合/栏目\"},\"Front\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"标题\"},\"Sub\":{\"field_type\":\"Text\",\"is_required\":false,\"description\":\"副标题/次级信息\"},\"Back\":{\"field_type\":\"Text\",\"is_required\":true,\"description\":\"正文内容\"}}",
    "generation_prompt": "请生成一个阅读卡片，字段：Collection(集合名), Front(标题), Sub(副标题), Back(正文内容)。"
  }
]
