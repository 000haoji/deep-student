# 错题管理系统 2.0 - 启动指南

> 更新时间：2025-05-23  
> 版本：2.0.0

## 📋 前置要求

- **Python 3.8+**
- **Node.js 14+**
- **Windows PowerShell** 或 **命令提示符**

## 🚀 快速启动（推荐）

### 使用一键启动脚本

```bash
# 在项目根目录（重构系统/）下执行
python start_system_windows.py
```

## 📝 手动启动步骤

### 1. 启动后端服务

**步骤1：打开终端，进入后端目录**
```bash
cd 重构系统\backend
```

**步骤2：激活虚拟环境**
```bash
# Windows PowerShell
.\venv\Scripts\activate

# 或 Windows CMD
venv\Scripts\activate.bat
```

**步骤3：安装依赖（首次运行）**
```bash
pip install -r requirements.txt
pip install python-jose[cryptography]
```

**步骤4：启动后端服务**
```bash
# 使用 main.py 作为入口（推荐）
python -m uvicorn main:app --reload --host 127.0.0.1 --port 8000

# 或使用 run.py
python run.py
```

### 2. 启动前端服务

**步骤1：新开一个终端，进入前端目录**
```bash
cd 重构系统\frontend
```

**步骤2：安装依赖（首次运行）**
```bash
npm install
```

**步骤3：启动前端开发服务器**
```bash
npm run dev
```

## 📌 访问地址

- **前端界面**: http://localhost:3000
- **后端API文档**: http://localhost:8000/docs
- **后端健康检查**: http://localhost:8000/health

## 🔧 常见问题

### 1. PowerShell 不支持 && 操作符

**问题**：在 PowerShell 中使用 `cd backend && python run.py` 报错

**解决**：分步执行命令
```bash
cd backend
python run.py
```

### 2. 找不到模块 'jose'

**问题**：`ModuleNotFoundError: No module named 'jose'`

**解决**：安装 python-jose
```bash
pip install python-jose[cryptography]
```

### 3. 端口被占用

**问题**：端口 8000 或 3000 已被占用

**解决**：
- 查找占用端口的进程：`netstat -ano | findstr :8000`
- 结束进程或更改端口

### 4. 虚拟环境未激活

**问题**：安装的包找不到

**解决**：确保看到命令行前缀 `(venv)`，表示虚拟环境已激活

## 💡 开发提示

1. **后端热重载**：使用 `--reload` 参数，修改代码后自动重启
2. **前端代理**：前端已配置代理，`/api` 请求会自动转发到后端
3. **日志查看**：后端日志会显示在终端，方便调试

## 📊 服务状态检查

### 检查端口占用
```bash
# Windows
netstat -an | findstr ":8000"
netstat -an | findstr ":3000"
```

### 检查服务健康状态
```bash
# 使用 PowerShell
Invoke-WebRequest -Uri "http://localhost:8000/health" -Method GET
```

## 🛑 停止服务

在运行服务的终端中按 `Ctrl + C` 即可停止服务。

## 📦 项目结构

```
重构系统/
├── backend/              # 后端项目
│   ├── venv/            # Python虚拟环境
│   ├── main.py          # 主入口文件
│   ├── app.py           # 备用入口（旧版）
│   └── run.py           # 启动脚本
├── frontend/             # 前端项目
│   ├── node_modules/    # Node.js依赖
│   ├── package.json     # 项目配置
│   └── vite.config.js   # Vite配置
└── docs/                # 文档目录
```

## 🔗 相关文档

- [README.md](./README.md) - 项目概述
- [AI功能使用指南.md](./AI功能使用指南.md) - AI功能详细说明
- [backend/QUICKSTART.md](./backend/QUICKSTART.md) - 后端快速开始

---

如有问题，请查看日志输出或参考故障排除部分。 