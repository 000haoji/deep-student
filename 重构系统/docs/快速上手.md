# 快速上手指南

## 5分钟快速开始

### 前提条件
- Python 3.8+
- Node.js 16+
- Git

### 1. 克隆项目
```bash
git clone https://github.com/yourusername/error-management-system.git
cd error-management-system/重构系统
```

### 2. 启动后端服务
```bash
# 进入后端目录
cd backend

# 创建虚拟环境（推荐）
python -m venv venv

# 激活虚拟环境
# Windows:
venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate

# 安装依赖
pip install -r requirements.txt

# 运行数据库迁移（使用SQLite）
python infrastructure/database/migrate.py

# 启动服务
python main.py
```

服务启动后，访问 http://localhost:8000/docs 查看API文档。

### 3. 启动前端服务（新开终端）
```bash
# 进入前端目录
cd frontend

# 安装依赖
npm install

# 启动开发服务器
npm start
```

前端启动后，访问 http://localhost:3000 使用系统。

## 基本使用流程

### 1. 创建第一个错题
```json
POST /api/v1/problems
{
  "title": "高等数学-极限计算",
  "content": "求极限 lim(x→0) (sin x)/x",
  "subject": "math",
  "user_answer": "0",
  "tags": ["极限", "三角函数"]
}
```

### 2. AI分析错题
```json
POST /api/v1/problems/{problem_id}/analyze
```

系统会自动：
- 分析错误原因
- 生成正确解答
- 提取知识点
- 评估难度等级

### 3. 批量分析学习情况
```json
POST /api/v1/reviews/analyze/batch
{
  "problem_ids": ["id1", "id2", "id3"],
  "title": "本周错题分析"
}
```

获得：
- 错误模式识别
- 薄弱领域定位
- 个性化学习建议
- 学习计划

## 配置说明

### 最小配置（本地测试）
系统已配置默认值，无需额外配置即可本地运行。

### AI功能配置
要使用AI分析功能，需要在`.env`文件中配置API密钥：

```env
# 选择一个或多个AI服务
OPENAI_API_KEY=your-openai-key
ANTHROPIC_API_KEY=your-anthropic-key
GOOGLE_API_KEY=your-google-key
```

### 文件存储配置
默认使用MinIO，也可以改为本地文件系统：

```python
# 在 backend/shared/config.py 中修改
USE_LOCAL_STORAGE = True
LOCAL_STORAGE_PATH = "./uploads"
```

## 常用命令

### 后端开发
```bash
# 运行测试
pytest

# 格式化代码
black .

# 检查代码质量
flake8

# 生成依赖文件
pip freeze > requirements.txt
```

### 前端开发
```bash
# 运行测试
npm test

# 构建生产版本
npm run build

# 代码检查
npm run lint
```

### Docker部署
```bash
# 构建镜像
docker-compose build

# 启动所有服务
docker-compose up -d

# 查看日志
docker-compose logs -f

# 停止服务
docker-compose down
```

## 故障排除

### 问题1：依赖安装失败
```bash
# 更新pip
python -m pip install --upgrade pip

# 使用国内镜像
pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
```

### 问题2：数据库迁移失败
```bash
# 删除旧数据库文件
rm error_management.db

# 重新运行迁移
python infrastructure/database/migrate.py
```

### 问题3：端口被占用
```bash
# 修改端口
# backend/.env
APP_PORT=8001

# frontend/package.json
"start": "PORT=3001 react-scripts start"
```

## 下一步

1. **探索API文档**：http://localhost:8000/docs
2. **查看完整文档**：[项目文档](./项目文档.md)
3. **了解架构设计**：[系统架构](../系统检查报告.md)
4. **参与开发**：查看[开发指南](./项目文档.md#开发指南)

## 获取帮助

- 查看[常见问题](./项目文档.md#常见问题)
- 提交[Issue](https://github.com/yourusername/error-management-system/issues)
- 联系开发者：your-email@example.com

---

祝您使用愉快！🎉 